var Bu=Object.defineProperty,Iu=Object.defineProperties;var Fu=Object.getOwnPropertyDescriptors;var hu=Object.getOwnPropertySymbols;var Wu=Object.prototype.hasOwnProperty,$u=Object.prototype.propertyIsEnumerable;var ou=(n,e,t)=>e in n?Bu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,g=(n,e)=>{for(var t in e||(e={}))Wu.call(e,t)&&ou(n,t,e[t]);if(hu)for(var t of hu(e))$u.call(e,t)&&ou(n,t,e[t]);return n},N=(n,e)=>Iu(n,Fu(e));var O=(n,e,t)=>(ou(n,typeof e!="symbol"?e+"":e,t),t);import{s as Ou,j as u,O as lu,d as Lu,a as Nu,b as Ru,c as Uu,u as j,L as _,e as mu,A as Mu,C as cu,f as r,T as _u,g as d,B as h,h as U,I as fu,i as Pu,k as ju,D as Gu,l as zu,r as o,m as nu,n as V,o as su,p as R,q as x,t as xu,F as A,v as X,w as Z,x as Q,y as G,z as q,E as du,M as Cu,S as yu,G as Hu,H as gu,J as bu,K as Ku,N as Vu,P as Xu,Q as Zu,R as qu,U as Ju,V as Qu,W as P,X as Yu,Y as u4,Z as e4,_ as t4,$ as n4,a0 as s4,a1 as r4,a2 as a4}from"./vendor.29b2eb73.js";const i4=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}};i4();const o4=Ou("main")({flexGrow:1,margin:10}),l4=()=>u(o4,{children:u(lu,{})}),ru="/";var Eu=[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",path:`${ru}`,icon:u(Lu,{color:"primary"})},{label:"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",path:`${ru}tasks`,icon:u(Nu,{color:"primary"})},{label:"\u0417\u0430\u0434\u0430\u0447\u0438",path:`${ru}works`,icon:u(Ru,{color:"primary"})},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",path:`${ru}settings`,icon:u(Uu,{color:"primary"})}];const vu="Pulsar",c4=({toggleOpen:n})=>{const e=j(),t=Eu.map(s=>u(_,{button:!0,onClick:()=>e(s.path,{replace:!0}),children:u(mu,{primary:s.label})},s.label));return u(Mu,{position:"fixed",children:u(cu,{maxWidth:"xl",children:r(_u,{disableGutters:!0,children:[u(d,{variant:"h6",noWrap:!0,component:"h1",sx:Y.logoSm,children:vu}),u(h,{sx:Y.menu,children:u(U,{component:"nav",sx:Y.nav,children:t})}),u(h,{sx:Y.icon,children:u(fu,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:n,sx:Y.iconButton,children:u(Pu,{})})}),u(d,{variant:"h6",noWrap:!0,component:"h1",sx:Y.logoXs,children:vu})]})})})},Y={logoSm:{mr:2,display:{xs:"none",sm:"flex"}},logoXs:{flexGrow:1,justifyContent:"flex-end",display:{xs:"flex",sm:"none"}},menu:{flexGrow:1,justifyContent:"flex-end",display:{xs:"none",sm:"flex"}},nav:{display:"flex",flexDirection:"row"},iconButton:{padding:"20px"},icon:{display:{xs:"flex",sm:"none"}}},d4=({open:n,toggleOpen:e})=>{const t=j(),s=i=>{t(i,{replace:!0}),e()},a=Eu.map(i=>r(_,{button:!0,onClick:()=>s(i.path),children:[u(ju,{children:i.icon}),u(mu,{primary:i.label})]},i.label));return r(Gu,{sx:wu.drawer,open:n,onClose:e,children:[r(h,{sx:{display:{xs:"flex",sm:"none"}},children:[u(d,{children:"Pulsar"}),u(fu,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e,sx:wu.closeButton,children:u(zu,{})})]}),u(U,{component:"nav",children:a})]})},wu={drawer:{width:300,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box",top:"auto",padding:"10px 10px"}},closeButton:{color:"text.secondary"}},p4=n=>{const[e,t]=o.exports.useState(!!n);return[e,()=>{t(()=>!e)}]},h4=({children:n})=>{const[e,t]=p4(!1);return r(cu,{maxWidth:"100vw",disableGutters:!0,sx:Tu.container,children:[u(c4,{toggleOpen:t}),r(cu,{sx:Tu.content,disableGutters:!0,children:[u(d4,{open:e,toggleOpen:t}),n]})]})},Tu={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{display:"flex",flexGrow:1,mt:8}},Su=(n,e="dd-MM-yyyy - HH:mm")=>o.exports.useMemo(()=>n?nu(n,e):"",[n]),J=`${location.protocol}//${location.hostname}`;class m4{async fetch(e){return(await V.get(`${J}/${e}`)).data}async fetchById(e,t){return(await V.get(`${J}/${e}/${t}`)).data}async create(e,t){return(await V.post(`${J}/${e}`,t)).data}async remove(e,t){return(await V.delete(`${J}/${e}/${t}`)).data}async update(e,t){return(await V.put(`${J}/${e}/${t.id}`,t)).data}async backup(e){await V({url:`${J}/${e}`,method:"GET",responseType:"blob"}).then(t=>{const s=t.headers["content-type"],a=new Blob([t.data],{type:s,encoding:"UTF-8"}),i=document.createElement("a"),c=t.headers["content-disposition"].split("filename=")[1].replace(/"/g,"");i.href=window.URL.createObjectURL(a),i.download=c,i.click()})}async restore(e,t){const s={result:null,error:null};let a=null;try{if(a=JSON.parse(t),!a.settings)return s.error="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u0444\u0430\u0439\u043B\u0430.",s}catch(i){return s.error=i,s}return await V.post(`${J}/${e}`,a)}}var w=new m4;class f4{constructor(){O(this,"actionTypes",[]);O(this,"workTypes",[]);O(this,"statusTypes",[]);O(this,"WORK",{});O(this,"STATUS",{});O(this,"ACTION",{});su(this),this.fetch()}fill(e){this.actionTypes=e.actionTypes,this.workTypes=e.workTypes,this.statusTypes=e.statusTypes,this.WORK=e.WORK,this.STATUS=e.STATUS,this.ACTION=e.ACTION}async fetch(){const e=await w.fetch("api/dictonary");this.fill(e.result)}getStatus(e){return this.statusTypes.find(t=>t.id===e)}}const y=new f4;class x4{constructor(){O(this,"settingList",[]);O(this,"SETTING",{});O(this,"serverTime","");su(this)}setServerTime(e){this.serverTime=nu(e,"dd-MM-yyyy - HH:mm")}fill(e){this.settingList=e}fillSETTING(e){this.SETTING=e}async fetch(){const e=await w.fetch("api/settings");this.fill(e.settings.result),this.fillSETTING(e.SETTING),await w.fetch("api/settings/serverTime")}async update(e){await w.update("api/settings",e);const t=[...this.settingList],s=t.findIndex(a=>a.id===e.id);t[s]=g({},e),this.fill(t)}async updateServer(){setTimeout(()=>{window.close()},2e3),await w.fetch("api/settings/updateServer")}async backup(){await w.backup("api/settings/backup")}async restore(e){return setTimeout(()=>{window.close()},2e3),await w.restore("api/settings/restore",e)}async shutdown(){setTimeout(()=>{window.close()},2e3),await w.fetch("api/settings/shutdown")}async calibrateAzimuth(e){return await w.fetch(`api/works/calibrateAzimuth?time=${e}`)}async calibrateSlope(e){return await w.fetch(`api/works/calibrateSlope?time=${e}`)}}const v=new x4;class C4{constructor(){O(this,"taskList",[]);su(this)}fill(e){this.taskList=e}async fetch(){const e=await w.fetch("api/tasks");this.fill(e.result)}async fetchById(e){return(await w.fetchById("api/tasks",e)).result}async remove(e){const t=await w.remove("api/tasks",e.id),s=this.taskList.filter(a=>a.id!==e.id);return this.fill(s),t.result}async create(e){const s=(await w.create("api/tasks",e)).result;this.fill([...this.taskList,s])}async update(e){const t=await w.update("api/tasks",e);let s=this.taskList.findIndex(a=>a.id===e.id);return this.taskList[s]=g({},e),t.result}}const z=new C4;class y4{constructor(){O(this,"workList",[]);O(this,"currentWork",null);su(this)}fill(e){this.workList=e}fillCurrentWork(e){e.length>0?this.currentWork=e[0]:this.currentWork=null}async fetch(){const e=await w.fetch("api/works");this.fill(e.result)}async fetchCurrentWork(){const e=await w.fetch("api/works/currentWork");this.fillCurrentWork(e.result)}async create(e){const s=(await w.create("api/works",e)).result;this.fill([...this.workList,s])}async stopCurrent(){return await w.fetch("api/works/stopCurrent")}async remove(e){const t=await w.remove("api/works",e.id),s=this.workList.filter(a=>a.id!==e.id);return this.fill(s),t.result}}const S=new y4,g4=()=>{var l;o.exports.useEffect(()=>{S.fetch()},[]);const n=j(),e=o.exports.useCallback(()=>{n("/works/current-work")},[]),t=o.exports.useCallback(()=>{S.stopCurrent()},[]),s=S.workList.filter(p=>p.status.id===y.STATUS.STATUS_WAIT).map(p=>{const C=Su(p.startTime);return r(_,{children:[p.item.name," ",C]},p.id)}),a=S.workList.filter(p=>p.status.id===y.STATUS.STATUS_RUN).map(p=>u(_,{children:p.item.name},p.id));let i=[];const c=(l=S.currentWork)==null?void 0:l.work;return c&&(i=c.details.filter(p=>p.status.id===y.STATUS.STATUS_RUN).map(p=>u(_,{children:p.type.name},p.id))),r(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[u(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0437\u0430\u0434\u0430\u043D\u0438\u044F\u0445"}),r(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,my:2,flexWrap:"wrap"},children:[u(d,{variant:"span",children:"\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435"}),s.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442"}),s.length!==0&&u(U,{children:s})]}),r(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,mb:2},children:[u(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430 "}),a.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),a.length!==0&&u(U,{children:a})]}),r(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,bgcolor:"#cdcdcd"},children:[u(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"}),i.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),i.length!==0&&u(U,{children:i})]}),r(h,{sx:{display:"flex",bgcolor:"#cdcdcd"},children:[u(x,{variant:"contained",color:"primary",onClick:e,sx:{m:1},children:"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"}),u(x,{variant:"contained",color:"primary",onClick:t,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})]})]})};var b4=R(g4);const uu=n=>{const{open:e,onCloseDialog:t,children:s}=n;return u(xu,{open:e,onClose:t,sx:{"& .MuiPaper-root":{width:{xs:"98%",sm:"50%"}}},children:s})},E4=({setting:n,onCancel:e,onSubmit:t})=>{const[s,a]=o.exports.useState(g({},n)),i=l=>{const p=l.target.value;a(N(g({},s),{value:p}))},c=()=>{const l=g({},s);return l.value=Number((+l.value).toFixed(3)),g({},l)};return r(A,{children:[u(X,{children:u(d,{children:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430"})}),u(Z,{children:u(h,{sx:{display:"flex",flexDirection:"column"},children:u(Q,{children:u(G,{autoFocus:!0,sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:s.value,onChange:i,InputLabelProps:{shrink:!0}})})})}),r(q,{children:[u(x,{onClick:e,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(x,{onClick:()=>t(c()),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},Du=({setting:n,onEdit:e,editable:t=!0})=>{const[s,a]=o.exports.useState(!1),i=()=>{a(!0)},c=()=>{a(!1)},l=p=>{e(g({},p)),c()};return r(A,{children:[r(_,{sx:{justifyContent:"space-between",wordWrap:"wrap",bgcolor:"#f9f9f9"},children:[u(d,{sx:{width:"40%"},children:n.name}),r(h,{sx:{width:"60%",display:"flex",justifyContent:"space-between"},children:[u(d,{sx:{width:"50%",display:"flex",justifyContent:"center",fontSize:"1.5rem",color:"blue"},children:n.value}),t&&u(x,{onClick:i,children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"})]})]},n.id),u(uu,{open:s,onCloseDialog:c,children:u(E4,{onCancel:c,onSubmit:l,setting:n})})]})},v4=()=>{o.exports.useEffect(()=>{v.fetch()},[]);const n=v.settingList?v.settingList.filter(e=>e.id!==v.SETTING.SETTING_AZIMUTH_SPEED&&e.id!==v.SETTING.SETTING_SLOPE_SPEED).map(e=>u(Du,{setting:e,editable:!1},e.id)):null;return r(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[u(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E\u0431 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0435"}),r(h,{sx:{display:"flex",justifyContent:"space-between",px:2,mt:2,color:"blue"},children:[u(d,{variant:"div",children:"\u0412\u0440\u0435\u043C\u044F \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),u(d,{variant:"div",children:v.serverTime})]}),u(U,{sx:{mb:2},children:n})]})};var w4=R(v4);const ku=()=>r(A,{children:[u(d,{sx:{color:"red",border:"2px solid red",borderRadius:1,fontWeight:"bold",width:"80%",m:"10px auto",p:1},children:"\u0412\u041D\u0418\u041C\u0410\u041D\u0418\u0415!!! \u041F\u0435\u0440\u0435\u0434 \u0440\u0430\u0431\u043E\u0442\u043E\u0439 \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0432\u0442\u044C \u0432\u044B\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u043E\u0433\u043E \u0430\u0437\u0438\u043C\u0443\u0442\u0430 \u0438 \u043D\u0430\u043A\u043B\u043E\u043D\u0430!!!"}),r(h,{sx:{bgcolor:"#f9f9f9",p:1,minHeight:"85%",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[u(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:u(b4,{})}),u(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:u(w4,{})})]})]}),T4=()=>u(A,{children:u(lu,{})}),S4=()=>u(A,{children:u(lu,{})}),D4=({task:n,onSubmit:e,onCancel:t})=>{const s=o.exports.useMemo(()=>y.workTypes.find(f=>f.id===y.WORK.WORK_PROGRAMM),[]),a=o.exports.useMemo(()=>y.statusTypes.find(f=>f.id===y.STATUS.STATUS_RUN),[]),i=o.exports.useMemo(()=>({type:s,status:a,item:n,startTime:null,details:[]}),[]),[c,l]=o.exports.useState(i),[p,C]=o.exports.useState(a),[b,D]=o.exports.useState(nu(new Date,"yyyy-MM-dd'T'HH:mm",{locale:du})),F=f=>{const W=nu(f,"yyyy-MM-dd'T'HH:mm",{locale:du}),k=gu(bu(W));D(W),l(N(g({},c),{startTime:k}))},m=f=>{const W=f.target.value;let k=null;C(W),W.id===y.STATUS.STATUS_WAIT&&(k=gu(bu(b))),l(N(g({},c),{status:W,startTime:k}))},T=o.exports.useMemo(()=>y.statusTypes.map(f=>(f.id===y.STATUS.STATUS_RUN||f.id===y.STATUS.STATUS_WAIT)&&u(Cu,{value:f,children:f.name},f.id)),[]);return r(A,{children:[u(X,{children:u(d,{children:"\u0417\u0430\u0434\u0430\u043D\u0438\u0435"})}),u(Z,{children:r(h,{sx:{display:"flex",flexDirection:"column"},children:[u(Q,{fullWidth:!0,sx:k4.gutters,children:u(yu,{autoFocus:!0,value:p,onChange:m,children:T})}),p.id===y.STATUS.STATUS_WAIT&&u(Q,{children:u(Hu,{value:b,onChange:F,renderInput:f=>u(G,g({},f))})})]})}),r(q,{children:[u(x,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(x,{onClick:()=>e(c),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},k4={gutters:{my:1}};var A4=R(D4);const B4=({task:n,onSelect:e,onRemove:t})=>{const[s,a]=o.exports.useState(!1),i=j(),c=()=>{a(!0)},l=()=>{a(!1)},p=async C=>{await S.create(C),a(!1),C.status.id===y.STATUS.STATUS_RUN&&i("/works/current-work")};return r(A,{children:[r(_,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"},alignItems:"center"},onClick:()=>e(n.id),children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.name}),u(d,{variant:"p",component:"span",sx:{padding:1,fontSize:"caption.fontSize"},children:n.description})]}),r(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:[u(x,{variant:"outlined",size:"small",sx:{mr:{xs:0,sm:.5},mb:{xs:.5,sm:0}},onClick:c,children:"\u0437\u0430\u043F\u0443\u0441\u043A"}),u(x,{variant:"outlined",size:"small",onClick:()=>t(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})]})]}),u(uu,{open:s,onCloseDialog:l,children:u(A4,{onCancel:l,onSubmit:p,task:n})})]})};var I4=R(B4);const pu=({open:n,children:e,onOk:t,onCancel:s})=>u(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:r(xu,{open:n,onClose:s,children:[u(X,{}),u(Z,{children:e}),r(q,{children:[u(x,{onClick:s,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(x,{onClick:t,children:"Ok"})]})]})}),F4=n=>{const[e,t]=o.exports.useState(!1),[s,a]=o.exports.useState("");return[e,s,c=>{t(c),a(c?n:"")}]},W4=({open:n,onAddTask:e,onCloseDialog:t})=>{const[s,a,i]=F4("\u0418\u043C\u044F \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C."),[c,l]=o.exports.useState(""),[p,C]=o.exports.useState(""),b=m=>{C(m.target.value)},D=m=>{const T=m.target.value;i(!T),l(m.target.value)},F=()=>{if(!c){i(!0);return}e({name:c,description:p})};return o.exports.useEffect(()=>{n&&(l(""),i(!1),C(""))},[n]),r(A,{children:[u(X,{children:u(d,{children:"\u041D\u043E\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"})}),u(Z,{children:r(h,{sx:{display:"flex",flexDirection:"column"},children:[u(G,{autoFocus:!0,error:s,label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",value:c,helperText:a,variant:"filled",onChange:D,sx:{mb:1}}),u(G,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",value:p,variant:"filled",multiline:!0,maxRows:4,onChange:b})]})}),r(q,{children:[u(x,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(x,{onClick:F,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]})},$4=()=>{const n=j(),[e,t]=o.exports.useState(!1),[s,a]=o.exports.useState(!1),[i,c]=o.exports.useState(null),l=o.exports.useCallback(f=>{n(`/tasks/${f}`)},[]);o.exports.useEffect(()=>z.fetch(),[]);const p=o.exports.useCallback(()=>{t(!1)},[]),C=o.exports.useCallback(()=>{t(!0)},[]),b=f=>{c(f),a(!0)},D=()=>{i&&z.remove(i).then(()=>{c(null)}),a(!1)},F=()=>{c(null),a(!1)},m=o.exports.useCallback(f=>{z.create(N(g({},f),{actions:[]})),p()},[]),T=o.exports.useMemo(()=>z.taskList.map(f=>u(I4,{task:f,onSelect:l,onRemove:b},f.id)),[z.taskList]);return r(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[u(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C"}),u(x,{variant:"contained",color:"primary",onClick:C,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),u(U,{children:T}),u(uu,{open:e,onCloseDialog:p,children:u(W4,{open:e,onAddTask:m,onCloseDialog:p})}),r(pu,{open:s,onOk:D,onCancel:F,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0443?"}),u(d,{align:"center",sx:{fontWeight:"bold"},children:i==null?void 0:i.name})]})]})};var O4=R($4);const Au=(n,e="#f1f1f1")=>o.exports.useMemo(()=>{switch(n.id){case y.STATUS.STATUS_RUN:return"#ffffe6";case y.STATUS.STATUS_DONE:return"#e8ffe6";case y.STATUS.STATUS_EXPIRED:return"#ffe6e7";default:return e}},[n]),L4=({work:n,onRemove:e})=>{const t=Au(n.status),s=Su(n.startTime),a=j(),i=n.status.id===y.STATUS.STATUS_RUN?"pointer":"default";return r(_,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(h,{sx:{display:"flex",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:()=>i,flexWrap:"wrap",bgcolor:t},onClick:()=>{n.status.id===y.STATUS.STATUS_RUN&&a("/works/current-work")},children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:n.status.name}),u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.item.name}),r(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:[!!s&&s,!s&&"\u043D\u0435\u043C\u0435\u0434\u043B\u0435\u043D\u043D\u043E"]})]}),u(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:u(x,{variant:"outlined",size:"small",onClick:()=>e(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]})};var N4=R(L4);const R4=()=>{var p,C;j();const[n,e]=o.exports.useState(!1),[t,s]=o.exports.useState(null);o.exports.useEffect(()=>S.fetch(),[]);const a=b=>{s(b),e(!0)},i=()=>{t&&S.remove(t).then(()=>{s(null)}),e(!1)},c=()=>{s(null),e(!1)},l=o.exports.useMemo(()=>S.workList.map(b=>u(N4,{work:b,onRemove:a},b.id)),[S.workList]);return r(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[u(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:u(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u0434\u0430\u0447"})}),u(U,{children:l}),r(pu,{open:n,onOk:i,onCancel:c,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443?"}),r(d,{align:"center",sx:{fontWeight:"bold"},children:[(p=t==null?void 0:t.status)==null?void 0:p.name," ",(C=t==null?void 0:t.item)==null?void 0:C.name]})]})]})};var U4=R(R4);const M4=({work:n})=>{const e=Au(n.status);let t="";switch(n.type.id){case y.ACTION.ACTION_AZIMUTH:case y.ACTION.ACTION_SLOPE:t=n.value1+" \u0433\u0440\u0430\u0434.";break;case y.ACTION.ACTION_WAIT:t=n.value1+" \u0441\u0435\u043A.";break;case y.ACTION.ACTION_SPARK:t=n.value2+" \u0441\u0435\u043A.";break}return u(A,{children:r(_,{sx:{justifyContent:"space-between",flexWrap:"wrap",bgcolor:e,mb:1},children:[u(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},fontWeight:"bold"},children:n.type.name}),u(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},textAlign:{xs:"left",sm:"center"}},children:t})," ",u(d,{sx:{width:{xs:"100%",sm:"20%"},textAlign:{xs:"left",sm:"right"},fontWeight:"bold"},children:n.status.name})]},n.id)})},_4=()=>{var s;const n=o.exports.useCallback(()=>{S.stopCurrent()},[]);o.exports.useEffect(()=>{S.fetchCurrentWork()},[]);let e=null;const t=(s=S.currentWork)==null?void 0:s.work;return t&&(e=t.details.map(a=>u(M4,{work:a},a.id))),r(A,{children:[r(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",px:1},children:[u(d,{variant:"h6",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430"}),u(h,{children:u(x,{variant:"contained",color:"primary",onClick:n,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})})]}),!e&&u(h,{sx:{my:10,fontWeight:"bold",display:"flex",width:"100%",justifyContent:"center",alignItems:"center"},children:"\u041D\u0435\u0442 \u0442\u0435\u043A\u0443\u0449\u0435\u0439 \u0437\u0430\u0434\u0430\u0447\u0438"}),u(U,{children:e})]})};var P4=R(_4);const j4=({action:n,onRemove:e,onEdit:t})=>r(_,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",flexWrap:"wrap",cursor:"pointer","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>t(n),children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.type.name}),r(d,{variant:"p",component:"span",sx:{padding:1},children:[n.type.id===1&&r(d,{children:["\u0430\u0437\u0438\u043C\u0443\u0442 ",u("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===2&&r(d,{children:["\u043D\u0430\u043A\u043B\u043E\u043D ",u("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===3&&r(d,{children:["\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 ",u("span",{children:n.value1})," \u0441\u0435\u043A"]}),n.type.id===4&&r(d,{children:["\u0440\u0430\u0437\u0440\u044F\u0434 \u043A\u043E\u043B-\u0432\u043E ",u("span",{children:n.value1})," \u0432\u0440\u0435\u043C\u044F\xA0",u("span",{children:n.value2})," \u0441\u0435\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\xA0",u("span",{children:n.value3})," \u0441\u0435\u043A"]})]})]}),u(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:u(x,{variant:"outlined",size:"small",onClick:()=>e(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var G4=R(j4);const z4=({action:n,onSubmit:e,onCloseDialog:t})=>{const s=o.exports.useMemo(()=>({id:y.actionTypes[0].id,name:y.actionTypes[0].name}),[]),a=o.exports.useMemo(()=>({id:null,type:s,value1:0,value2:0,value3:0}),[]),[i,c]=o.exports.useState(n||a),[l,p]=o.exports.useState(()=>y.actionTypes.find(m=>m.id===i.type.id)),C=m=>{let T=m.target.value.replace(/-/g,""),f={};switch(m.target.dataset.source){case"value1":f={value1:T};break;case"value2":f={value2:T};break;case"value3":f={value3:T};break}c(()=>g(g({},i),f))},b=m=>{const T=m.target.value;p(T),c(N(g({},i),{type:{id:T.id,name:T.name},value1:0,value2:0,value3:0}))},D=o.exports.useMemo(()=>y.actionTypes.map(m=>u(Cu,{value:m,children:m.name},m.id)),[]),F=()=>{const m=g({},i);return m.value1=m.type.id===y.ACTION.ACTION_SPARK?Number(String(m.value1).split(".")[0]):Number((+m.value1).toFixed(1)),m.value2=Number((+m.value2).toFixed(1)),m.value3=Number((+m.value3).toFixed(1)),g({},m)};return r(A,{children:[u(X,{children:u(d,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})}),u(Z,{children:r(h,{sx:{display:"flex",flexDirection:"column"},children:[u(Q,{fullWidth:!0,sx:au.gutters,children:u(yu,{autoFocus:!0,value:l,onChange:b,children:D})}),u(Q,{fullWidth:!0,children:u(G,{label:l.value1.label,value:i.value1,onChange:C,type:"number",inputProps:{"data-source":"value1",max:l.value1.max,min:l.value1.min,step:l.value1.step},sx:au.gutters,InputLabelProps:{shrink:!0}})}),l.id===y.ACTION.ACTION_SPARK&&u(G,{label:l.value2.label,value:i.value2,onChange:C,type:"number",inputProps:{"data-source":"value2",max:l.value2.max,min:l.value2.min,step:l.value2.step},sx:au.gutters,InputLabelProps:{shrink:!0}}),l.id===y.ACTION.ACTION_SPARK&&u(G,{label:l.value3.label,value:i.value3,onChange:C,type:"number",inputProps:{"data-source":"value3",max:l.value3.max,min:l.value3.min,step:l.value3.step},sx:au.gutters,InputLabelProps:{shrink:!0}})]})}),r(q,{children:[u(x,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(x,{onClick:()=>e(F()),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},au={gutters:{my:1}};var H4=R(z4);const K4=()=>{var $;const n=Ku(),e=j(),[t,s]=o.exports.useState(!1),[a,i]=o.exports.useState(null),[c,l]=o.exports.useState({}),[p,C]=o.exports.useState(!1),[b,D]=o.exports.useState(null),F=o.exports.useCallback(()=>{e("/tasks")},[]);o.exports.useEffect(()=>{z.fetchById(n.id).then(E=>l(E))},[]);const m=o.exports.useCallback(()=>{s(!1)},[]),T=o.exports.useCallback(E=>{i(E),s(!0)},[]),f=o.exports.useCallback(()=>{i(null),s(!0)},[]),W=E=>{D(E),C(!0)},k=()=>{if(b){const E=c.actions.filter(I=>b.id!==I.id),L=N(g({},c),{actions:E});l(L),z.update(L).then(()=>{D(null)})}C(!1)},K=()=>{D(null),C(!1)},iu=E=>{E.id||(E.id=Vu());const L=c.actions.findIndex(eu=>eu.id===E.id),I=[...c.actions];L===-1?I.push(E):I[L]=g({},E);const M=N(g({},c),{actions:[...I]});l(M),s(!1),z.update(M)},B=Array.isArray(c.actions)?c.actions.map(E=>u(G4,{action:E,onRemove:W,onEdit:T},E.id)):null;return r(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[u(d,{variant:"h5",children:"\u0421\u043E\u0441\u0442\u0430\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"}),r(h,{children:[u(x,{variant:"contained",color:"primary",onClick:F,sx:{mr:1},children:"\u041A \u0441\u043F\u0438\u0441\u043A\u0443"}),u(x,{variant:"contained",color:"primary",onClick:f,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]}),u(h,{children:u(d,{variant:"h6",sx:{fontStyle:"italic",color:"blue",my:1},children:`\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435: ${c.name||""}`})}),B&&B.length<=0&&u(h,{sx:{my:10,fontWeight:"bold",display:"flex",width:"100%",justifyContent:"center",alignItems:"center"},children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043F\u0443\u0441\u0442"}),u(U,{children:B}),u(uu,{open:t,onCloseDialog:m,children:u(H4,{open:t,onCloseDialog:m,onSubmit:iu,action:a})}),r(pu,{open:p,onOk:k,onCancel:K,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?"}),u(d,{align:"center",sx:{fontWeight:"bold"},children:($=b==null?void 0:b.type)==null?void 0:$.name})]})]})};var V4=R(K4);const X4=()=>{o.exports.useEffect(()=>{v.fetch()},[]);const n=t=>{v.update(g({},t))},e=v.settingList.map(t=>{let s=!0;return t.id===v.SETTING.SETTING_VERSION&&(s=!1),u(Du,{setting:t,onEdit:n,editable:s},t.id)});return u(A,{children:u(U,{sx:{mb:2},children:e})})};var Z4=R(X4);const q4=({openDialog:n,openConfirm:e,disableAll:t})=>r(A,{children:[u(x,{disabled:t,variant:"contained",color:"primary",onClick:()=>{e("update")},sx:{mr:1,mb:1},children:"\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),u(x,{disabled:t,variant:"contained",color:"primary",onClick:()=>{e("shutdown")},sx:{mr:1,mb:1},children:"\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E"}),u(x,{disabled:t,variant:"contained",color:"primary",onClick:()=>{n("azimuth")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"}),u(x,{disabled:t,variant:"contained",color:"primary",onClick:()=>{n("slope")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430"})]}),J4=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0430 \u0430\u0437\u0438\u043C\u0443\u0442 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 5 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:5},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 10 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:10},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 15 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:15}],Q4=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043D\u0430\u043A\u043B\u043E\u043D \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u043D\u0430 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 2 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:2},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 4 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:4},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 6 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:6}],Y4=({onCancel:n,mode:e})=>{const[t,s]=o.exports.useState(0),[a,i]=o.exports.useState(!1);let c="",l=[];switch(e){case"azimuth":c="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430",l=J4;break;case"slope":c="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430",l=Q4;break}const p=l.length,[C,b]=o.exports.useState(new Array(p).fill(0)),[D,F]=o.exports.useState(new Array(p).fill(0)),m=(B,$=3)=>Number(B.toFixed($)),T=()=>{S.stopCurrent(),i(!0);const B=l[t].time;let $=()=>{};switch(e){case"azimuth":$=v.calibrateAzimuth;break;case"slope":$=v.calibrateSlope;break}$(B)},f=()=>{S.stopCurrent(),n()},W=B=>{const $=+B.target.value,E=[...C],L=[...D];E[t]=$;let I=m(($-E[t-1])/l[t].time);I=I<=0?0:I,L[t]=I,b(E),F(L)},k=()=>{S.stopCurrent();const B=[0];for(let M=1;M<l.length;M++){const eu=m((C[M]-C[M-1])/l[M].time);B.push(eu)}const $=B.reduce((M,eu)=>M+eu),E=m($/(l.length-1));let L={},I={};switch(e){case"azimuth":L=N(g({},v.settingList[0]),{value:E}),I=N(g({},v.settingList[2]),{value:C[C.length-1]});break;case"slope":L=N(g({},v.settingList[1]),{value:E}),I=N(g({},v.settingList[3]),{value:C[C.length-1]});break}E>0&&(v.update(L),v.update(I)),n()},K=()=>{s(B=>B+1),i(!1)},iu=()=>{s(B=>B-1),i(!1)};return r(A,{children:[u(X,{children:u(d,{children:c})}),u(Z,{children:r(h,{sx:{display:"flex",flexDirection:"column"},children:[u(h,{sx:{p:2},children:l[t].description}),t!==0&&r(Q,{children:[u(x,{onClick:T,variant:"contained",color:"primary",disabled:a,sx:{width:{md:"50%",xl:"25%"},mb:1,ml:1},children:"\u0421\u0442\u0430\u0440\u0442"}),u(G,{sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:C[t],onChange:W,InputLabelProps:{shrink:!0}}),r(d,{sx:{mx:1},children:["\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C: ",D[t]]})]}),u(Xu,{sx:{justifySelf:"flex-end"},variant:"text",steps:p,position:"static",activeStep:t,nextButton:r(x,{size:"small",onClick:K,disabled:t===p-1,children:["\u0414\u0430\u043B\u0435\u0435",u(Zu,{})]}),backButton:r(x,{size:"small",onClick:iu,disabled:t===0,children:[u(qu,{}),"\u041D\u0430\u0437\u0430\u0434"]})})]})}),r(q,{children:[u(x,{onClick:f,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(x,{onClick:k,children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},ue=({disableAll:n})=>{const e=o.exports.useRef();return u(A,{children:r(h,{sx:{display:"flex",width:"100%",flexWrap:"wrap"},children:[u(x,{disabled:n,variant:"contained",color:"primary",onClick:()=>{v.backup()},sx:{mr:1,mb:1},children:"\u0420\u0435\u0437\u0435\u0440\u0432\u043D\u0430\u044F \u043A\u043E\u043F\u0438\u044F \u0411\u0414"}),u(h,{children:r("label",{htmlFor:"upload",children:[u("input",{ref:e,style:{display:"none"},id:"upload",name:"upload",type:"file",onInput:a=>{var i=new FileReader;i.readAsText(a.target.files[0]),i.onloadend=function(c){v.restore(c.target.result).then(l=>{console.log(l)})}}}),u(x,{disabled:n,variant:"contained",color:"primary",component:"span",sx:{mr:1,mb:1},children:"\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0411\u0414"})]})})]})})},ee=()=>{const[n,e]=o.exports.useState(!1),[t,s]=o.exports.useState(!1),[a,i]=o.exports.useState("azimuth"),[c,l]=o.exports.useState(""),[p,C]=o.exports.useState(""),[b,D]=o.exports.useState(!1),F=k=>{i(k),e(!0)},m=k=>{l(k);let K="";switch(k){case"update":K=`\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u0439\u043C\u0435\u0442 3-5 \u043C\u0438\u043D\u0443\u0442.
                   \u0412 \u044D\u0442\u043E \u0432\u0440\u0435\u043C\u044F \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0443\u0434\u0435\u0442 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D.
                   \u041D\u0435 \u043E\u0442\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043E\u0442 \u043F\u0438\u0442\u0430\u043D\u0438\u044F.

                   \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?
        `;break;case"shutdown":K=`\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0441\u0435\u0440\u0432\u0435\u0440?
        `;break}C(()=>K),s(!0),D(!0)},T=()=>{let k=()=>{};switch(c){case"update":k=v.updateServer;break;case"shutdown":k=v.shutdown;break}k(),s(!1)},f=()=>{e(!1)},W=()=>{s(!1),D(!1)};return r(A,{children:[u(d,{variant:"h6",children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"}),u(Z4,{}),u(q4,{openDialog:F,openConfirm:m,disableAll:b}),u(ue,{disableAll:b}),u(uu,{open:n,onCloseDialog:f,children:u(Y4,{onCancel:f,mode:a})}),r(uu,{open:t,onCloseDialog:W,children:[u(X,{children:u(d,{children:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F"})}),u(Z,{children:p}),r(q,{children:[u(x,{onClick:W,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(x,{onClick:T,children:"Ok"})]})]})]})},H="/",te=({routes:n})=>u(A,{children:u(Ju,{children:u(h4,{children:u(Qu,{children:r(P,{path:`${H}`,element:u(l4,{}),children:[u(P,{path:`${H}`,element:u(ku,{})}),r(P,{path:`${H}tasks`,element:u(T4,{}),children:[u(P,{path:`${H}tasks`,element:u(O4,{})}),u(P,{path:`${H}tasks:id`,element:u(V4,{})})]}),r(P,{path:`${H}works`,element:u(S4,{}),children:[u(P,{path:`${H}works`,element:u(U4,{})}),u(P,{path:"/works/current-work",element:u(P4,{})})]}),u(P,{path:`${H}settings`,element:u(ee,{})}),u(P,{path:"*",element:u(ku,{})})]})})})})});const tu=Yu(`ws://${location.hostname}`);tu.on("connect",()=>{console.log("socket ",tu.connected)});tu.on("workStatusUpdate",n=>{S.fetch(),S.fetchCurrentWork()});tu.on("serverTime",n=>{v.setServerTime(+n)});tu.on("settingsUpdate",n=>{v.fetch()});const ne=u4({palette:{primary:{main:"#1976d2"},bgGray:{main:"#f9f9f9"}}},e4);t4.render(u(n4.StrictMode,{children:u(s4,{theme:ne,children:u(r4,{dateAdapter:a4,locale:du,children:u(te,{})})})}),document.getElementById("root"));
