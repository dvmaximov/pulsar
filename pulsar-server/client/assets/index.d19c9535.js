var Ie=Object.defineProperty,Le=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var pe=(n,u,t)=>u in n?Ie(n,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[u]=t,C=(n,u)=>{for(var t in u||(u={}))Oe.call(u,t)&&pe(n,t,u[t]);if(ve)for(var t of ve(u))Re.call(u,t)&&pe(n,t,u[t]);return n},T=(n,u)=>Le(n,Fe(u));var D=(n,u,t)=>(pe(n,typeof u!="symbol"?u+"":u,t),t);import{s as Ue,j as e,O as he,d as Ne,a as Me,b as _e,c as ze,u as V,L as R,e as Ce,A as Pe,C as me,f as a,T as je,g as d,B as h,h as U,I as ge,i as He,k as Ge,D as Ve,l as Ke,r as o,m as S,n as ne,o as B,p as se,q as f,F as A,t as ke,v as fe,M as we,w as X,x as q,y as Z,S as Se,z as Xe,E as z,G as J,H as Te,J as be,K as qe,N as Ze,P as Je,Q as Qe,R as Ye,U as eu,V as uu,W as M,X as tu,Y as nu,Z as su,_ as ru,$ as au,a0 as iu,a1 as ou,a2 as lu}from"./vendor.1d98c1c4.js";const cu=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}};cu();const du=Ue("main")({flexGrow:1,margin:10}),pu=()=>e(du,{children:e(he,{})}),re="/";var Ee=[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",path:`${re}`,icon:e(Ne,{color:"primary"})},{label:"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",path:`${re}tasks`,icon:e(Me,{color:"primary"})},{label:"\u0417\u0430\u0434\u0430\u0447\u0438",path:`${re}works`,icon:e(_e,{color:"primary"})},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",path:`${re}settings`,icon:e(ze,{color:"primary"})}];const De="Pulsar",hu=({toggleOpen:n})=>{const u=V(),t=Ee.map(r=>e(R,{button:!0,onClick:()=>u(r.path,{replace:!0}),children:e(Ce,{primary:r.label})},r.label));return e(Pe,{position:"fixed",children:e(me,{maxWidth:"xl",children:a(je,{disableGutters:!0,children:[e(d,{variant:"h6",noWrap:!0,component:"h1",sx:Q.logoSm,children:De}),e(h,{sx:Q.menu,children:e(U,{component:"nav",sx:Q.nav,children:t})}),e(h,{sx:Q.icon,children:e(ge,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:n,sx:Q.iconButton,children:e(He,{})})}),e(d,{variant:"h6",noWrap:!0,component:"h1",sx:Q.logoXs,children:De})]})})})},Q={logoSm:{mr:2,display:{xs:"none",sm:"flex"}},logoXs:{flexGrow:1,justifyContent:"flex-end",display:{xs:"flex",sm:"none"}},menu:{flexGrow:1,justifyContent:"flex-end",display:{xs:"none",sm:"flex"}},nav:{display:"flex",flexDirection:"row"},iconButton:{padding:"20px"},icon:{display:{xs:"flex",sm:"none"}}},mu=({open:n,toggleOpen:u})=>{const t=V(),r=s=>{t(s,{replace:!0}),u()},i=Ee.map(s=>a(R,{button:!0,onClick:()=>r(s.path),children:[e(Ge,{children:s.icon}),e(Ce,{primary:s.label})]},s.label));return a(Ve,{sx:Ae.drawer,open:n,onClose:u,children:[a(h,{sx:{display:{xs:"flex",sm:"none"}},children:[e(d,{children:"Pulsar"}),e(ge,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:u,sx:Ae.closeButton,children:e(Ke,{})})]}),e(U,{component:"nav",children:i})]})},Ae={drawer:{width:300,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box",top:"auto",padding:"10px 10px"}},closeButton:{color:"text.secondary"}},fu=n=>{const[u,t]=o.exports.useState(!!n);return[u,()=>{t(()=>!u)}]},xu=({children:n})=>{const[u,t]=fu(!1);return a(me,{maxWidth:"100vw",disableGutters:!0,sx:We.container,children:[e(hu,{toggleOpen:t}),a(me,{sx:We.content,disableGutters:!0,children:[e(mu,{open:u,toggleOpen:t}),n]})]})},We={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{display:"flex",flexGrow:1,mt:8}},yu=`${location.protocol}//${location.hostname}`;class vu{async fetch(){return(await S.get(`${yu}/dictonary`)).data}}var Cu=new vu;const gu=Cu;class ku{constructor(){D(this,"actionTypes",[]);D(this,"workTypes",[]);D(this,"statusTypes",[]);D(this,"WORK",{});D(this,"STATUS",{});D(this,"ACTION",{});ne(this),this.fetch()}fill(u){this.actionTypes=u.actionTypes,this.workTypes=u.workTypes,this.statusTypes=u.statusTypes,this.WORK=u.WORK,this.STATUS=u.STATUS,this.ACTION=u.ACTION}async fetch(){const u=await gu.fetch();this.fill(u)}getStatus(u){return this.statusTypes.find(t=>t.id===u)}}const v=new ku,ae=`${location.protocol}//${location.hostname}`;class wu{async fetch(){return(await S.get(`${ae}/settings`)).data}async update(u){return await S.put(`${ae}/settings/${u.id}`,u)}async updateServer(){setTimeout(()=>{window.close()},2e3),await S.get(`${ae}/settings/updateServer`)}async shutdown(){setTimeout(()=>{window.close()},2e3),await S.get(`${ae}/settings/shutdown`)}}var Su=new wu;const ie=Su;class Tu{constructor(){D(this,"settingList",[]);ne(this)}fill(u){this.settingList=u}async fetch(){const u=await ie.fetch();this.fill(u)}async update(u){try{await ie.update(u);const t=[...this.settingList],r=t.findIndex(i=>i.id===u.id);t[r]=C({},u),this.fill(t)}catch{}}async updateServer(){await ie.updateServer()}async shutdown(){await ie.shutdown()}}const L=new Tu,Y=`${location.protocol}//${location.hostname}`;class bu{async fetch(){return(await S.get(`${Y}/tasks`)).data}async fetchById(u){return(await S.get(`${Y}/tasks/${u}`)).data}async create(u){return(await S.post(`${Y}/tasks`,u)).data}async remove(u){return(await S.delete(`${Y}/tasks/${u}`)).data}async update(u){return await S.put(`${Y}/tasks/${u.id}`,u)}}var Eu=new bu;const ee=Eu;class Du{constructor(){D(this,"taskList",[]);ne(this)}fill(u){this.taskList=u}async remove(u){const t=await ee.remove(u.id);if(t.removed===1){const r=this.taskList.filter(i=>i.id!==u.id);this.fill(r)}return t.removed}async create(u){const t=await ee.create(u);this.fill([...this.taskList,t])}async update(u){await ee.update(u);let t=this.taskList.findIndex(r=>r.id===u.id);this.taskList[t]=C({},u)}async fetch(){this.fill(await ee.fetch())}async fetchById(u){return await ee.fetchById(u)}}const P=new Du,j=`${location.protocol}//${location.hostname}`;class Au{async fetch(){return(await S.get(`${j}/works`)).data}async fetchCurrentWork(){return(await S.get(`${j}/works/currentWork`)).data}async create(u){return(await S.post(`${j}/works`,u)).data}async remove(u){return(await S.delete(`${j}/works/${u}`)).data}async stopCurrent(u){return await S.get(`${j}/works/stopCurrent`)}async update(u){return await S.put(`${j}/works/${u.id}`,u)}async calibrateAzimuth(u){await S.get(`${j}/works/calibrateAzimuth?time=${u}`)}async calibrateSlope(u){await S.get(`${j}/works/calibrateSlope?time=${u}`)}}var Wu=new Au;const $e=[{id:1,type:{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"},status:{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},item:{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]},startTime:1645191e6,details:[]},{id:2,type:{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"},status:{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},item:{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]},startTime:16457166e5,details:[]}];class $u{constructor(){D(this,"currentWork",null);D(this,"updateWork",null)}setUpdaters(u){this.updateWork=u}createCurrentWork(u){}async startWork(u){this.currentWork=u;const t=await v.getStatus(v.STATUS.STATUS_RUN);this.currentWork=T(C({},this.currentWork),{status:t}),await this.updateWork(this.currentWork),console.log("status ",v.STATUS.STATUS_RUN)}async stopWork(){const u=await v.getStatus(v.STATUS.STATUS_DONE);this.currentWork=T(C({},this.currentWork),{status:u}),await this.updateWork(this.currentWork),this.currentWork=null,console.log("stop")}}var oe=new $u;let Be=$e.length+1;class Bu{constructor(){D(this,"works",$e);D(this,"timers",[]);D(this,"update",async u=>{const t=this.works.findIndex(r=>r.id===u.id);this.works[t]=C({},u)});oe.setUpdaters(this.update),this.fillTimers()}createTimer(u){const t=new Date().getTime(),r=u.startTime;if(!r)return null;const i=r-t,s=i<0?null:setTimeout(()=>{console.log("timer run",u.id),oe.startWork(u),this.removeTimer(u.id),clearTimeout(s)},i);return s}removeTimer(u){const t=this.timers.find(r=>r.workId===u);t&&(clearTimeout(t),this.timers=this.timers.filter(r=>r.workId===u))}fillTimers(){this.timers.forEach(u=>clearTimeout(u.timer)),this.timers=[],this.works.forEach(u=>{const t=this.createTimer(u);t&&this.timers.push({timerId:t,workId:u.id})})}async fetch(){return this.works}async create(u){Be++;const t=C({id:Be},u);return this.works.push(t),this.createTimer(t)||oe.startWork(t),t}async remove(u){return this.works=this.works.filter(t=>t.id!==u),oe.stopWork(),this.removeTimer(u),{removed:1,error:""}}}new Bu;const K=Wu;class Iu{constructor(){D(this,"workList",[]);D(this,"currentWork",null);ne(this)}fill(u){this.workList=u}fillCurrentWork(u){u.length>0?this.currentWork=u[0]:this.currentWork=null}async fetch(){const u=await K.fetch();this.fill(u)}async fetchCurrentWork(){const u=await K.fetchCurrentWork();this.fillCurrentWork(u)}async create(u){const t=await K.create(u);this.fill([...this.workList,t])}async stopCurrent(u){return await K.stopCurrent()}async calibrateAzimuth(u){return await K.calibrateAzimuth(u)}async calibrateSlope(u){return await K.calibrateSlope(u)}async remove(u){const t=await K.remove(u.id);if(t.removed===1){const r=this.workList.filter(i=>i.id!==u.id);this.fill(r)}return t.removed}}const k=new Iu,Lu=()=>{var c;o.exports.useEffect(()=>{k.fetch()},[]);const n=V(),u=o.exports.useCallback(()=>{n("/works/current-work")},[]),t=o.exports.useCallback(()=>{k.stopCurrent()},[]),r=k.workList.filter(p=>p.status.id===v.STATUS.STATUS_WAIT).map(p=>a(R,{children:[p.item.name," ",se(new Date(p.startTime),"dd-MM-yyyy - HH:mm")]},p.id)),i=k.workList.filter(p=>p.status.id===v.STATUS.STATUS_RUN).map(p=>e(R,{children:p.item.name},p.id));let s=[];const l=(c=k.currentWork)==null?void 0:c.work;return l&&(s=l.details.filter(p=>p.status.id===v.STATUS.STATUS_RUN).map(p=>e(R,{children:p.type.name},p.id))),a(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[e(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0437\u0430\u0434\u0430\u043D\u0438\u044F\u0445"}),a(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,my:2,flexWrap:"wrap"},children:[e(d,{variant:"span",children:"\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435"}),r.length===0&&e(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442"}),r.length!==0&&e(U,{children:r})]}),a(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,mb:2},children:[e(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430 "}),i.length===0&&e(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),i.length!==0&&e(U,{children:i})]}),a(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,bgcolor:"#cdcdcd"},children:[e(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"}),s.length===0&&e(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),s.length!==0&&e(U,{children:s})]}),a(h,{sx:{display:"flex",bgcolor:"#cdcdcd"},children:[e(f,{variant:"contained",color:"primary",onClick:u,sx:{m:1},children:"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"}),e(f,{variant:"contained",color:"primary",onClick:t,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})]})]})};var Fu=B(Lu);const Ou=()=>e(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:e(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E\u0431 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0435"})});var Ru=B(Ou);const Uu=()=>e(A,{children:a(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[e(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:e(Fu,{})}),e(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:e(Ru,{})})]})}),Nu=()=>e(A,{children:e(he,{})}),Mu=()=>e(A,{children:e(he,{})}),ue=n=>{const{open:u,onCloseDialog:t,children:r}=n;return e(ke,{open:u,onClose:t,sx:{"& .MuiPaper-root":{width:{xs:"98%",sm:"50%"}}},children:r})},_u=({task:n,onSubmit:u,onCancel:t})=>{const r=o.exports.useMemo(()=>v.workTypes.find(m=>m.id===v.WORK.WORK_PROGRAMM),[]),i=o.exports.useMemo(()=>v.statusTypes.find(m=>m.id===v.STATUS.STATUS_RUN),[]),s=o.exports.useMemo(()=>({type:r,status:i,item:n,startTime:null,details:[]}),[]),[l,c]=o.exports.useState(s),[p,x]=o.exports.useState(i),[w,W]=o.exports.useState(se(new Date,"yyyy-MM-dd'T'HH:mm",{locale:fe})),I=m=>{const F=se(m,"yyyy-MM-dd'T'HH:mm",{locale:fe}),_=Te(be(F));W(F),c(T(C({},l),{startTime:_}))},b=m=>{const F=m.target.value;let _=null;x(F),F.id===v.STATUS.STATUS_WAIT&&(_=Te(be(w))),c(T(C({},l),{status:F,startTime:_}))},g=o.exports.useMemo(()=>v.statusTypes.map(m=>(m.id===v.STATUS.STATUS_RUN||m.id===v.STATUS.STATUS_WAIT)&&e(we,{value:m,children:m.name},m.id)),[]);return a(A,{children:[e(X,{children:e(d,{children:"\u0417\u0430\u0434\u0430\u043D\u0438\u0435"})}),e(q,{children:a(h,{sx:{display:"flex",flexDirection:"column"},children:[e(Z,{fullWidth:!0,sx:zu.gutters,children:e(Se,{autoFocus:!0,value:p,onChange:b,children:g})}),p.id===v.STATUS.STATUS_WAIT&&e(Z,{children:e(Xe,{value:w,onChange:I,renderInput:m=>e(z,C({},m))})})]})}),a(J,{children:[e(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(f,{onClick:()=>u(l),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},zu={gutters:{my:1}};var Pu=B(_u);const ju=({task:n,onSelect:u,onRemove:t})=>{const[r,i]=o.exports.useState(!1),s=V(),l=()=>{i(!0)},c=()=>{i(!1)},p=async x=>{await k.create(x),i(!1),x.status.id===v.STATUS.STATUS_RUN&&s("/works/current-work")};return a(A,{children:[a(R,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[a(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>u(n.id),children:[e(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.name}),e(d,{variant:"p",component:"span",sx:{padding:1,fontSize:"caption.fontSize"},children:n.description})]}),a(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:[e(f,{variant:"outlined",size:"small",sx:{mr:{xs:0,sm:.5},mb:{xs:.5,sm:0}},onClick:l,children:"\u0437\u0430\u043F\u0443\u0441\u043A"}),e(f,{variant:"outlined",size:"small",onClick:()=>t(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})]})]}),e(ue,{open:r,onCloseDialog:c,children:e(Pu,{onCancel:c,onSubmit:p,task:n})})]})};var Hu=B(ju);const xe=({open:n,children:u,onOk:t,onCancel:r})=>e(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:a(ke,{open:n,onClose:r,children:[e(X,{}),e(q,{children:u}),a(J,{children:[e(f,{onClick:r,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(f,{onClick:t,children:"Ok"})]})]})}),Gu=n=>{const[u,t]=o.exports.useState(!1),[r,i]=o.exports.useState("");return[u,r,l=>{t(l),i(l?n:"")}]},Vu=({open:n,onAddTask:u,onCloseDialog:t})=>{const[r,i,s]=Gu("\u0418\u043C\u044F \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C."),[l,c]=o.exports.useState(""),[p,x]=o.exports.useState(""),w=b=>{x(b.target.value)},W=b=>{const g=b.target.value;s(!g),c(b.target.value)},I=()=>{if(!l){s(!0);return}u({name:l,description:p})};return o.exports.useEffect(()=>{n&&(c(""),s(!1),x(""))},[n]),a(A,{children:[e(X,{children:e(d,{children:"\u041D\u043E\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"})}),e(q,{children:a(h,{sx:{display:"flex",flexDirection:"column"},children:[e(z,{autoFocus:!0,error:r,label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",value:l,helperText:i,variant:"filled",onChange:W,sx:{mb:1}}),e(z,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",value:p,variant:"filled",multiline:!0,maxRows:4,onChange:w})]})}),a(J,{children:[e(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(f,{onClick:I,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]})},Ku=()=>{const n=V(),[u,t]=o.exports.useState(!1),[r,i]=o.exports.useState(!1),[s,l]=o.exports.useState(null),c=o.exports.useCallback(m=>{n(`/tasks/${m}`)},[]);o.exports.useEffect(()=>P.fetch(),[]);const p=o.exports.useCallback(()=>{t(!1)},[]),x=o.exports.useCallback(()=>{t(!0)},[]),w=m=>{l(m),i(!0)},W=()=>{s&&P.remove(s).then(()=>{l(null)}),i(!1)},I=()=>{l(null),i(!1)},b=o.exports.useCallback(m=>{P.create(T(C({},m),{actions:[]})),p()},[]),g=o.exports.useMemo(()=>P.taskList.map(m=>e(Hu,{task:m,onSelect:c,onRemove:w},m.id)),[P.taskList]);return a(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[a(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C"}),e(f,{variant:"contained",color:"primary",onClick:x,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(U,{children:g}),e(ue,{open:u,onCloseDialog:p,children:e(Vu,{open:u,onAddTask:b,onCloseDialog:p})}),a(xe,{open:r,onOk:W,onCancel:I,children:[e(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0443?"}),e(d,{align:"center",sx:{fontWeight:"bold"},children:s==null?void 0:s.name})]})]})};var Xu=B(Ku);const qu=({work:n,onSelect:u,onRemove:t})=>a(R,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[a(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},children:[e(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:n.status.name}),e(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.item.name}),n.startTime&&e(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:se(new Date(n.startTime),"dd-MM-yyyy - HH:mm")})]}),e(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:e(f,{variant:"outlined",size:"small",onClick:()=>t(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var Zu=B(qu);const Ju=()=>{var p,x;V();const[n,u]=o.exports.useState(!1),[t,r]=o.exports.useState(null);o.exports.useEffect(()=>k.fetch(),[]);const i=w=>{r(w),u(!0)},s=()=>{t&&k.remove(t).then(()=>{r(null)}),u(!1)},l=()=>{r(null),u(!1)},c=o.exports.useMemo(()=>k.workList.map(w=>e(Zu,{work:w,onRemove:i},w.id)),[k.workList]);return a(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[e(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:e(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u0434\u0430\u0447"})}),e(U,{children:c}),a(xe,{open:n,onOk:s,onCancel:l,children:[e(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443?"}),a(d,{align:"center",sx:{fontWeight:"bold"},children:[(p=t==null?void 0:t.status)==null?void 0:p.name," ",(x=t==null?void 0:t.item)==null?void 0:x.name]})]})]})};var Qu=B(Ju);const Yu=({work:n})=>{let u="#f1f1f1";switch(n.status.id){case v.STATUS.STATUS_RUN:u="#ffffe6";break;case v.STATUS.STATUS_DONE:u="#e8ffe6";break}console.log(n.type.id);let t="";switch(n.type.id){case v.ACTION.ACTION_AZIMUTH:case v.ACTION.ACTION_SLOPE:t=n.value1+" \u0433\u0440\u0430\u0434.";break;case v.ACTION.ACTION_WAIT:t=n.value1+" \u0441\u0435\u043A.";break;case v.ACTION.ACTION_SPARK:t=n.value2+" \u0441\u0435\u043A.";break}return e(A,{children:a(R,{sx:{justifyContent:"space-between",flexWrap:"wrap",bgcolor:u,mb:1},children:[e(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},fontWeight:"bold"},children:n.type.name}),e(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},textAlign:{xs:"left",sm:"center"}},children:t})," ",e(d,{sx:{width:{xs:"100%",sm:"20%"},textAlign:{xs:"left",sm:"right"},fontWeight:"bold"},children:n.status.name})]},n.id)})},et=()=>{var s;const n=V(),u=o.exports.useCallback(()=>{k.stopCurrent()},[]),t=o.exports.useCallback(()=>{n("/tasks")},[]);o.exports.useEffect(()=>{k.fetchCurrentWork()},[]);let r=null;const i=(s=k.currentWork)==null?void 0:s.work;return i&&(r=i.details.map(l=>e(Yu,{work:l},l.id))),a(A,{children:[a(h,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",px:1},children:[e(d,{variant:"h6",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430"}),a(h,{children:[e(f,{variant:"contained",color:"primary",onClick:t,sx:{m:1},children:"\u041A \u0441\u043F\u0438\u0441\u043A\u0443"}),e(f,{variant:"contained",color:"primary",onClick:u,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})]})]}),e(U,{children:r})]})};var ut=B(et);const tt=({action:n,onRemove:u,onEdit:t})=>a(R,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[a(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",flexWrap:"wrap",cursor:"pointer","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>t(n),children:[e(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.type.name}),a(d,{variant:"p",component:"span",sx:{padding:1},children:[n.type.id===1&&a(d,{children:["\u0430\u0437\u0438\u043C\u0443\u0442 ",e("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===2&&a(d,{children:["\u043D\u0430\u043A\u043B\u043E\u043D ",e("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===3&&a(d,{children:["\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 ",e("span",{children:n.value1})," \u0441\u0435\u043A"]}),n.type.id===4&&a(d,{children:["\u0440\u0430\u0437\u0440\u044F\u0434 \u043A\u043E\u043B-\u0432\u043E ",e("span",{children:n.value1})," \u0432\u0440\u0435\u043C\u044F\xA0",e("span",{children:n.value2})," \u0441\u0435\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\xA0",e("span",{children:n.value3})," \u0441\u0435\u043A"]})]})]}),e(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:e(f,{variant:"outlined",size:"small",onClick:()=>u(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var nt=B(tt);const st=({action:n,onSubmit:u,onCloseDialog:t})=>{const r=o.exports.useMemo(()=>({id:v.actionTypes[0].id,name:v.actionTypes[0].name}),[]),i=o.exports.useMemo(()=>({id:null,type:r,value1:0,value2:0,value3:0}),[]),[s,l]=o.exports.useState(n||i),[c,p]=o.exports.useState(()=>v.actionTypes.find(g=>g.id===s.type.id)),x=g=>{l(()=>T(C({},s),{value1:+g.target.value}))},w=g=>{l(()=>T(C({},s),{value2:+g.target.value}))},W=g=>{l(()=>T(C({},s),{value3:+g.target.value}))},I=g=>{const m=g.target.value;p(m),l(T(C({},s),{type:{id:m.id,name:m.name},value1:1,value2:0,value3:0}))},b=o.exports.useMemo(()=>v.actionTypes.map(g=>e(we,{value:g,children:g.name},g.id)),[]);return a(A,{children:[e(X,{children:e(d,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})}),e(q,{children:a(h,{sx:{display:"flex",flexDirection:"column"},children:[e(Z,{fullWidth:!0,sx:le.gutters,children:e(Se,{autoFocus:!0,value:c,onChange:I,children:b})}),e(Z,{fullWidth:!0,children:e(z,{label:c.value1.label,value:s.value1,onChange:x,type:"number",inputProps:{max:c.value1.max,min:c.value1.min,step:c.value1.step},sx:le.gutters,InputLabelProps:{shrink:!0}})}),c.id===4&&e(z,{label:c.value2.label,value:s.value2,onChange:w,type:"number",inputProps:{max:c.value2.max,min:c.value2.min,step:c.value2.step},sx:le.gutters,InputLabelProps:{shrink:!0}}),c.id===4&&e(z,{label:c.value3.label,value:s.value3,onChange:W,type:"number",inputProps:{max:c.value3.max,min:c.value3.min,step:c.value3.step},sx:le.gutters,InputLabelProps:{shrink:!0}})]})}),a(J,{children:[e(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(f,{onClick:()=>u(s),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},le={gutters:{my:1}};var rt=B(st);const at=()=>{var te;const n=qe(),[u,t]=o.exports.useState(!1),[r,i]=o.exports.useState(null),[s,l]=o.exports.useState({}),[c,p]=o.exports.useState(!1),[x,w]=o.exports.useState(null);o.exports.useEffect(()=>{P.fetchById(n.id).then(y=>l(y))},[]);const W=o.exports.useCallback(()=>{t(!1)},[]),I=o.exports.useCallback(y=>{i(y),t(!0)},[]),b=o.exports.useCallback(()=>{i(null),t(!0)},[]),g=y=>{w(y),p(!0)},m=()=>{if(x){const y=s.actions.filter($=>x.id!==$.id),E=T(C({},s),{actions:y});l(E),P.update(E).then(()=>{w(null)})}p(!1)},F=()=>{w(null),p(!1)},_=y=>{y.id||(y.id=Ze());const E=s.actions.findIndex(O=>O.id===y.id),$=[...s.actions];E===-1?$.push(y):$[E]=C({},y);const N=T(C({},s),{actions:[...$]});l(N),t(!1),P.update(N)},ce=Array.isArray(s.actions)?s.actions.map(y=>e(nt,{action:y,onRemove:g,onEdit:I},y.id)):null;return a(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[a(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(d,{variant:"h5",children:"\u0421\u043E\u0441\u0442\u0430\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"}),e(f,{variant:"contained",color:"primary",onClick:b,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(U,{children:ce}),e(ue,{open:u,onCloseDialog:W,children:e(rt,{open:u,onCloseDialog:W,onSubmit:_,action:r})}),a(xe,{open:c,onOk:m,onCancel:F,children:[e(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?"}),e(d,{align:"center",sx:{fontWeight:"bold"},children:(te=x==null?void 0:x.type)==null?void 0:te.name})]})]})};var it=B(at);const ot=({setting:n,onCancel:u,onSubmit:t})=>{const[r,i]=o.exports.useState(C({},n)),s=l=>{const c=l.target.value;i(T(C({},r),{value:c}))};return a(A,{children:[e(X,{children:e(d,{children:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430"})}),e(q,{children:e(h,{sx:{display:"flex",flexDirection:"column"},children:e(Z,{children:e(z,{autoFocus:!0,sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:r.value,onChange:s,InputLabelProps:{shrink:!0}})})})}),a(J,{children:[e(f,{onClick:u,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(f,{onClick:()=>t(r),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},lt=({setting:n,onEdit:u})=>{const[t,r]=o.exports.useState(!1),i=()=>{r(!0)},s=()=>{r(!1)},l=c=>{u(C({},c)),s()};return a(A,{children:[a(R,{sx:{justifyContent:"space-between",wordWrap:"wrap",bgcolor:"#f9f9f9"},children:[e(d,{sx:{width:"25%"},children:n.name}),e(d,{sx:{width:"25%",display:"flex",justifyContent:"center",fontSize:"1.5rem",color:"blue"},children:n.value}),e(f,{onClick:i,children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"})]},n.id),e(ue,{open:t,onCloseDialog:s,children:e(ot,{onCancel:s,onSubmit:l,setting:n})})]})},ct=()=>{o.exports.useEffect(()=>{L.fetch()},[]);const n=t=>{L.update(C({},t))},u=L.settingList.map(t=>e(lt,{setting:t,onEdit:n},t.id));return e(A,{children:e(U,{sx:{mb:2},children:u})})};var dt=B(ct);const pt=({openDialog:n})=>a(A,{children:[e(f,{variant:"contained",color:"primary",onClick:L.updateServer,sx:{mr:1,mb:1},children:"\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),e(f,{variant:"contained",color:"primary",onClick:L.shutdown,sx:{mr:1,mb:1},children:"\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E"}),e(f,{variant:"contained",color:"primary",onClick:()=>{n("azimuth")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"}),e(f,{variant:"contained",color:"primary",onClick:()=>{n("slope")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430"})]}),ht=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0430 \u0430\u0437\u0438\u043C\u0443\u0442 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 5 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:5},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 10 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:10},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 15 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:15}],mt=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043D\u0430\u043A\u043B\u043E\u043D \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u043D\u0430 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 2 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:2},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 4 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:4},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 6 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:6}],ft=({onCancel:n,mode:u})=>{const[t,r]=o.exports.useState(0),[i,s]=o.exports.useState(!1);let l="",c=[];switch(u){case"azimuth":l="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430",c=ht;break;case"slope":l="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430",c=mt;break}const p=c.length,[x,w]=o.exports.useState(new Array(p).fill(0)),[W,I]=o.exports.useState(new Array(p).fill(0)),b=(y,E=3)=>Number(y.toFixed(E)),g=()=>{k.stopCurrent(),s(!0);const y=c[t].time;let E=()=>{};switch(u){case"azimuth":E=k.calibrateAzimuth;break;case"slope":E=k.calibrateSlope;break}E(y)},m=()=>{k.stopCurrent(),n()},F=y=>{const E=+y.target.value,$=[...x],N=[...W];$[t]=E;let O=b((E-$[t-1])/c[t].time);O=O<=0?0:O,N[t]=O,w($),I(N)},_=()=>{k.stopCurrent();const y=[0];for(let G=1;G<c.length;G++){const de=b((x[G]-x[G-1])/c[G].time);y.push(de)}const E=y.reduce((G,de)=>G+de),$=b(E/(c.length-1));let N={},O={};switch(u){case"azimuth":N=T(C({},L.settingList[0]),{value:$}),O=T(C({},L.settingList[2]),{value:x[x.length-1]});break;case"slope":N=T(C({},L.settingList[1]),{value:$}),O=T(C({},L.settingList[3]),{value:x[x.length-1]});break}$>0&&(L.update(N),L.update(O)),n()},ce=()=>{r(y=>y+1),s(!1)},te=()=>{r(y=>y-1),s(!1)};return a(A,{children:[e(X,{children:e(d,{children:l})}),e(q,{children:a(h,{sx:{display:"flex",flexDirection:"column"},children:[e(h,{sx:{p:2},children:c[t].description}),t!==0&&a(Z,{children:[e(f,{onClick:g,variant:"contained",color:"primary",disabled:i,sx:{width:{md:"50%",xl:"25%"},mb:1,ml:1},children:"\u0421\u0442\u0430\u0440\u0442"}),e(z,{sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:x[t],onChange:F,InputLabelProps:{shrink:!0}}),a(d,{sx:{mx:1},children:["\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C: ",W[t]]})]}),e(Je,{sx:{justifySelf:"flex-end"},variant:"text",steps:p,position:"static",activeStep:t,nextButton:a(f,{size:"small",onClick:ce,disabled:t===p-1,children:["\u0414\u0430\u043B\u0435\u0435",e(Qe,{})]}),backButton:a(f,{size:"small",onClick:te,disabled:t===0,children:[e(Ye,{}),"\u041D\u0430\u0437\u0430\u0434"]})})]})}),a(J,{children:[e(f,{onClick:m,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(f,{onClick:_,children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},xt=()=>{const[n,u]=o.exports.useState(!1),[t,r]=o.exports.useState("azimuth"),i=l=>{r(l),u(!0)},s=()=>{u(!1)};return a(A,{children:[e(d,{variant:"h6",children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"}),e(dt,{}),e(pt,{openDialog:i}),e(ue,{open:n,onCloseDialog:s,children:e(ft,{onCancel:s,mode:t})})]})},H="/",yt=({routes:n})=>e(A,{children:e(eu,{children:e(xu,{children:e(uu,{children:a(M,{path:`${H}`,element:e(pu,{}),children:[e(M,{path:`${H}`,element:e(Uu,{})}),a(M,{path:`${H}tasks`,element:e(Nu,{}),children:[e(M,{path:`${H}tasks`,element:e(Xu,{})}),e(M,{path:`${H}tasks:id`,element:e(it,{})})]}),a(M,{path:`${H}works`,element:e(Mu,{}),children:[e(M,{path:`${H}works`,element:e(Qu,{})}),e(M,{path:"/works/current-work",element:e(ut,{})})]}),e(M,{path:`${H}settings`,element:e(xt,{})})]})})})})});const ye=tu(`ws://${location.hostname}`);ye.on("connect",()=>{console.log("socket ",ye.connected)});ye.on("workStatusUpdate",n=>{k.fetch(),k.fetchCurrentWork()});const vt=nu({palette:{primary:{main:"#1976d2"},bgGray:{main:"#f9f9f9"}}},su);ru.render(e(au.StrictMode,{children:e(iu,{theme:vt,children:e(ou,{dateAdapter:lu,locale:fe,children:e(yt,{})})})}),document.getElementById("root"));
