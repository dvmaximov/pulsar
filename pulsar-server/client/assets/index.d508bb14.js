var Bu=Object.defineProperty,Wu=Object.defineProperties;var Fu=Object.getOwnPropertyDescriptors;var hu=Object.getOwnPropertySymbols;var Iu=Object.prototype.hasOwnProperty,$u=Object.prototype.propertyIsEnumerable;var ou=(n,e,t)=>e in n?Bu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,w=(n,e)=>{for(var t in e||(e={}))Iu.call(e,t)&&ou(n,t,e[t]);if(hu)for(var t of hu(e))$u.call(e,t)&&ou(n,t,e[t]);return n},A=(n,e)=>Wu(n,Fu(e));var L=(n,e,t)=>(ou(n,typeof e!="symbol"?e+"":e,t),t);import{s as Lu,j as u,O as lu,d as Ou,a as Ru,b as Uu,c as Nu,u as G,L as M,e as mu,A as Mu,C as cu,f as r,T as _u,g as d,B as m,h as U,I as fu,i as Pu,k as Gu,D as ju,l as zu,r as o,m as tu,n as V,o as nu,p as R,q as f,t as xu,F as D,v as K,w as X,x as J,y as j,z as Z,E as du,M as Cu,S as yu,G as Hu,H as gu,J as Eu,K as Vu,N as Ku,P as Xu,Q as Zu,R as qu,U as Ju,V as Qu,W as _,X as Yu,Y as u4,Z as e4,_ as t4,$ as n4,a0 as s4,a1 as r4,a2 as i4}from"./vendor.f8c19e97.js";const a4=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}};a4();const o4=Lu("main")({flexGrow:1,margin:10}),l4=()=>u(o4,{children:u(lu,{})}),su="/";var bu=[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",path:`${su}`,icon:u(Ou,{color:"primary"})},{label:"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",path:`${su}tasks`,icon:u(Ru,{color:"primary"})},{label:"\u0417\u0430\u0434\u0430\u0447\u0438",path:`${su}works`,icon:u(Uu,{color:"primary"})},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",path:`${su}settings`,icon:u(Nu,{color:"primary"})}];const wu="Pulsar",c4=({toggleOpen:n})=>{const e=G(),t=bu.map(s=>u(M,{button:!0,onClick:()=>e(s.path,{replace:!0}),children:u(mu,{primary:s.label})},s.label));return u(Mu,{position:"fixed",children:u(cu,{maxWidth:"xl",children:r(_u,{disableGutters:!0,children:[u(d,{variant:"h6",noWrap:!0,component:"h1",sx:Q.logoSm,children:wu}),u(m,{sx:Q.menu,children:u(U,{component:"nav",sx:Q.nav,children:t})}),u(m,{sx:Q.icon,children:u(fu,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:n,sx:Q.iconButton,children:u(Pu,{})})}),u(d,{variant:"h6",noWrap:!0,component:"h1",sx:Q.logoXs,children:wu})]})})})},Q={logoSm:{mr:2,display:{xs:"none",sm:"flex"}},logoXs:{flexGrow:1,justifyContent:"flex-end",display:{xs:"flex",sm:"none"}},menu:{flexGrow:1,justifyContent:"flex-end",display:{xs:"none",sm:"flex"}},nav:{display:"flex",flexDirection:"row"},iconButton:{padding:"20px"},icon:{display:{xs:"flex",sm:"none"}}},d4=({open:n,toggleOpen:e})=>{const t=G(),s=a=>{t(a,{replace:!0}),e()},i=bu.map(a=>r(M,{button:!0,onClick:()=>s(a.path),children:[u(Gu,{children:a.icon}),u(mu,{primary:a.label})]},a.label));return r(ju,{sx:Tu.drawer,open:n,onClose:e,children:[r(m,{sx:{display:{xs:"flex",sm:"none"}},children:[u(d,{children:"Pulsar"}),u(fu,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e,sx:Tu.closeButton,children:u(zu,{})})]}),u(U,{component:"nav",children:i})]})},Tu={drawer:{width:300,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box",top:"auto",padding:"10px 10px"}},closeButton:{color:"text.secondary"}},p4=n=>{const[e,t]=o.exports.useState(!!n);return[e,()=>{t(()=>!e)}]},h4=({children:n})=>{const[e,t]=p4(!1);return r(cu,{maxWidth:"100vw",disableGutters:!0,sx:Su.container,children:[u(c4,{toggleOpen:t}),r(cu,{sx:Su.content,disableGutters:!0,children:[u(d4,{open:e,toggleOpen:t}),n]})]})},Su={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{display:"flex",flexGrow:1,mt:8}},vu=(n,e="dd-MM-yyyy - HH:mm")=>o.exports.useMemo(()=>n?tu(n,e):"",[n]),q=`${location.protocol}//${location.hostname}`;class m4{async fetch(e){return(await V.get(`${q}/${e}`)).data}async fetchById(e,t){return(await V.get(`${q}/${e}/${t}`)).data}async create(e,t){return(await V.post(`${q}/${e}`,t)).data}async remove(e,t){return(await V.delete(`${q}/${e}/${t}`)).data}async update(e,t){return(await V.put(`${q}/${e}/${t.id}`,t)).data}async backup(e){await V({url:`${q}/${e}`,method:"GET",responseType:"blob"}).then(t=>{const s=t.headers["content-type"],i=new Blob([t.data],{type:s,encoding:"UTF-8"}),a=document.createElement("a"),l=t.headers["content-disposition"].split("filename=")[1].replace(/"/g,"");a.href=window.URL.createObjectURL(i),a.download=l,a.click()})}async restore(e,t){const s={result:null,error:null};let i=null;try{if(i=JSON.parse(t),!i.settings)return s.error="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u0444\u0430\u0439\u043B\u0430.",s}catch(a){return s.error=a,s}return await V.post(`${q}/${e}`,i)}}var S=new m4;class f4{constructor(){L(this,"actionTypes",[]);L(this,"workTypes",[]);L(this,"statusTypes",[]);L(this,"WORK",{});L(this,"STATUS",{});L(this,"ACTION",{});nu(this),this.fetch()}fill(e){this.actionTypes=e.actionTypes,this.workTypes=e.workTypes,this.statusTypes=e.statusTypes,this.WORK=e.WORK,this.STATUS=e.STATUS,this.ACTION=e.ACTION}async fetch(){const e=await S.fetch("api/dictonary");this.fill(e.result)}getStatus(e){return this.statusTypes.find(t=>t.id===e)}}const y=new f4;class x4{constructor(){L(this,"settingList",[]);L(this,"SETTING",{});L(this,"serverTime","");nu(this)}setServerTime(e){this.serverTime=tu(e,"dd-MM-yyyy - HH:mm")}fill(e){this.settingList=e}fillSETTING(e){this.SETTING=e}async fetch(){const e=await S.fetch("api/settings");this.fill(e.settings.result),this.fillSETTING(e.SETTING),await S.fetch("api/settings/serverTime")}async update(e){await S.update("api/settings",e);const t=[...this.settingList],s=t.findIndex(i=>i.id===e.id);t[s]=w({},e),this.fill(t)}async updateServer(){setTimeout(()=>{window.close()},2e3),await S.fetch("api/settings/updateServer")}async backup(){await S.backup("api/settings/backup")}async restore(e){return setTimeout(()=>{window.close()},2e3),await S.restore("api/settings/restore",e)}async shutdown(){setTimeout(()=>{window.close()},2e3),await S.fetch("api/settings/shutdown")}async calibrateAzimuth(e){return await S.fetch(`api/works/calibrateAzimuth?time=${e}`)}async calibrateSlope(e){return await S.fetch(`api/works/calibrateSlope?time=${e}`)}}const E=new x4;class C4{constructor(){L(this,"taskList",[]);nu(this)}fill(e){this.taskList=e}async fetch(){const e=await S.fetch("api/tasks");this.fill(e.result)}async fetchById(e){return(await S.fetchById("api/tasks",e)).result}async remove(e){const t=await S.remove("api/tasks",e.id),s=this.taskList.filter(i=>i.id!==e.id);return this.fill(s),t.result}async create(e){const s=(await S.create("api/tasks",e)).result;this.fill([...this.taskList,s])}async update(e){const t=await S.update("api/tasks",e);let s=this.taskList.findIndex(i=>i.id===e.id);return this.taskList[s]=w({},e),t.result}}const z=new C4;class y4{constructor(){L(this,"workList",[]);L(this,"currentWork",null);nu(this)}fill(e){this.workList=e}fillCurrentWork(e){e.length>0?this.currentWork=e[0]:this.currentWork=null}async fetch(){const e=await S.fetch("api/works");this.fill(e.result)}async fetchCurrentWork(){const e=await S.fetch("api/works/currentWork");this.fillCurrentWork(e.result)}async create(e){const s=(await S.create("api/works",e)).result;this.fill([...this.workList,s])}async stopCurrent(){return await S.fetch("api/works/stopCurrent")}async remove(e){const t=await S.remove("api/works",e.id),s=this.workList.filter(i=>i.id!==e.id);return this.fill(s),t.result}}const v=new y4,g4=()=>{var c;o.exports.useEffect(()=>{v.fetch()},[]);const n=G(),e=o.exports.useCallback(()=>{n("/works/current-work")},[]),t=o.exports.useCallback(()=>{v.stopCurrent()},[]),s=v.workList.filter(p=>p.status.id===y.STATUS.STATUS_WAIT).map(p=>{const x=vu(p.startTime);return r(M,{children:[p.item.name," ",x]},p.id)}),i=v.workList.filter(p=>p.status.id===y.STATUS.STATUS_RUN).map(p=>u(M,{children:p.item.name},p.id));let a=[];const l=(c=v.currentWork)==null?void 0:c.work;return l&&(a=l.details.filter(p=>p.status.id===y.STATUS.STATUS_RUN).map(p=>u(M,{children:p.type.name},p.id))),r(m,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[u(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0437\u0430\u0434\u0430\u043D\u0438\u044F\u0445"}),r(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,my:2,flexWrap:"wrap"},children:[u(d,{variant:"span",children:"\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435"}),s.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442"}),s.length!==0&&u(U,{children:s})]}),r(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,mb:2},children:[u(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430 "}),i.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),i.length!==0&&u(U,{children:i})]}),r(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,bgcolor:"#cdcdcd"},children:[u(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"}),a.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),a.length!==0&&u(U,{children:a})]}),r(m,{sx:{display:"flex",bgcolor:"#cdcdcd"},children:[u(f,{variant:"contained",color:"primary",onClick:e,sx:{m:1},children:"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"}),u(f,{variant:"contained",color:"primary",onClick:t,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})]})]})};var E4=R(g4);const Y=n=>{const{open:e,onCloseDialog:t,children:s}=n;return u(xu,{open:e,onClose:t,sx:{"& .MuiPaper-root":{width:{xs:"98%",sm:"50%"}}},children:s})},b4=({setting:n,onCancel:e,onSubmit:t})=>{const[s,i]=o.exports.useState(w({},n)),a=l=>{const c=+l.target.value;i(A(w({},s),{value:c}))};return r(D,{children:[u(K,{children:u(d,{children:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430"})}),u(X,{children:u(m,{sx:{display:"flex",flexDirection:"column"},children:u(J,{children:u(j,{autoFocus:!0,sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:s.value,onChange:a,InputLabelProps:{shrink:!0}})})})}),r(Z,{children:[u(f,{onClick:e,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:()=>t(s),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},Du=({setting:n,onEdit:e,editable:t=!0})=>{const[s,i]=o.exports.useState(!1),a=()=>{i(!0)},l=()=>{i(!1)},c=p=>{e(w({},p)),l()};return r(D,{children:[r(M,{sx:{justifyContent:"space-between",wordWrap:"wrap",bgcolor:"#f9f9f9"},children:[u(d,{sx:{width:"40%"},children:n.name}),r(m,{sx:{width:"60%",display:"flex",justifyContent:"space-between"},children:[u(d,{sx:{width:"50%",display:"flex",justifyContent:"center",fontSize:"1.5rem",color:"blue"},children:n.value}),t&&u(f,{onClick:a,children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"})]})]},n.id),u(Y,{open:s,onCloseDialog:l,children:u(b4,{onCancel:l,onSubmit:c,setting:n})})]})},w4=()=>{o.exports.useEffect(()=>{E.fetch()},[]);const n=E.settingList?E.settingList.filter(e=>e.id!==E.SETTING.SETTING_AZIMUTH_SPEED&&e.id!==E.SETTING.SETTING_SLOPE_SPEED).map(e=>u(Du,{setting:e,editable:!1},e.id)):null;return r(m,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[u(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E\u0431 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0435"}),r(m,{sx:{display:"flex",justifyContent:"space-between",px:2,mt:2,color:"blue"},children:[u(d,{variant:"div",children:"\u0412\u0440\u0435\u043C\u044F \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),u(d,{variant:"div",children:E.serverTime})]}),u(U,{sx:{mb:2},children:n})]})};var T4=R(w4);const ku=()=>r(D,{children:[u(d,{sx:{color:"red",border:"2px solid red",borderRadius:1,fontWeight:"bold",width:"80%",m:"10px auto",p:1},children:"\u0412\u041D\u0418\u041C\u0410\u041D\u0418\u0415!!! \u041F\u0435\u0440\u0435\u0434 \u0440\u0430\u0431\u043E\u0442\u043E\u0439 \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0432\u0442\u044C \u0432\u044B\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u043E\u0433\u043E \u0430\u0437\u0438\u043C\u0443\u0442\u0430 \u0438 \u043D\u0430\u043A\u043B\u043E\u043D\u0430!!!"}),r(m,{sx:{bgcolor:"#f9f9f9",p:1,minHeight:"85%",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[u(m,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:u(E4,{})}),u(m,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:u(T4,{})})]})]}),S4=()=>u(D,{children:u(lu,{})}),v4=()=>u(D,{children:u(lu,{})}),D4=({task:n,onSubmit:e,onCancel:t})=>{const s=o.exports.useMemo(()=>y.workTypes.find(h=>h.id===y.WORK.WORK_PROGRAMM),[]),i=o.exports.useMemo(()=>y.statusTypes.find(h=>h.id===y.STATUS.STATUS_RUN),[]),a=o.exports.useMemo(()=>({type:s,status:i,item:n,startTime:null,details:[]}),[]),[l,c]=o.exports.useState(a),[p,x]=o.exports.useState(i),[b,k]=o.exports.useState(tu(new Date,"yyyy-MM-dd'T'HH:mm",{locale:du})),I=h=>{const B=tu(h,"yyyy-MM-dd'T'HH:mm",{locale:du}),P=gu(Eu(B));k(B),c(A(w({},l),{startTime:P}))},T=h=>{const B=h.target.value;let P=null;x(B),B.id===y.STATUS.STATUS_WAIT&&(P=gu(Eu(b))),c(A(w({},l),{status:B,startTime:P}))},C=o.exports.useMemo(()=>y.statusTypes.map(h=>(h.id===y.STATUS.STATUS_RUN||h.id===y.STATUS.STATUS_WAIT)&&u(Cu,{value:h,children:h.name},h.id)),[]);return r(D,{children:[u(K,{children:u(d,{children:"\u0417\u0430\u0434\u0430\u043D\u0438\u0435"})}),u(X,{children:r(m,{sx:{display:"flex",flexDirection:"column"},children:[u(J,{fullWidth:!0,sx:k4.gutters,children:u(yu,{autoFocus:!0,value:p,onChange:T,children:C})}),p.id===y.STATUS.STATUS_WAIT&&u(J,{children:u(Hu,{value:b,onChange:I,renderInput:h=>u(j,w({},h))})})]})}),r(Z,{children:[u(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:()=>e(l),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},k4={gutters:{my:1}};var A4=R(D4);const B4=({task:n,onSelect:e,onRemove:t})=>{const[s,i]=o.exports.useState(!1),a=G(),l=()=>{i(!0)},c=()=>{i(!1)},p=async x=>{await v.create(x),i(!1),x.status.id===y.STATUS.STATUS_RUN&&a("/works/current-work")};return r(D,{children:[r(M,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(m,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"},alignItems:"center"},onClick:()=>e(n.id),children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.name}),u(d,{variant:"p",component:"span",sx:{padding:1,fontSize:"caption.fontSize"},children:n.description})]}),r(m,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:[u(f,{variant:"outlined",size:"small",sx:{mr:{xs:0,sm:.5},mb:{xs:.5,sm:0}},onClick:l,children:"\u0437\u0430\u043F\u0443\u0441\u043A"}),u(f,{variant:"outlined",size:"small",onClick:()=>t(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})]})]}),u(Y,{open:s,onCloseDialog:c,children:u(A4,{onCancel:c,onSubmit:p,task:n})})]})};var W4=R(B4);const pu=({open:n,children:e,onOk:t,onCancel:s})=>u(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:r(xu,{open:n,onClose:s,children:[u(K,{}),u(X,{children:e}),r(Z,{children:[u(f,{onClick:s,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:t,children:"Ok"})]})]})}),F4=n=>{const[e,t]=o.exports.useState(!1),[s,i]=o.exports.useState("");return[e,s,l=>{t(l),i(l?n:"")}]},I4=({open:n,onAddTask:e,onCloseDialog:t})=>{const[s,i,a]=F4("\u0418\u043C\u044F \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C."),[l,c]=o.exports.useState(""),[p,x]=o.exports.useState(""),b=T=>{x(T.target.value)},k=T=>{const C=T.target.value;a(!C),c(T.target.value)},I=()=>{if(!l){a(!0);return}e({name:l,description:p})};return o.exports.useEffect(()=>{n&&(c(""),a(!1),x(""))},[n]),r(D,{children:[u(K,{children:u(d,{children:"\u041D\u043E\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"})}),u(X,{children:r(m,{sx:{display:"flex",flexDirection:"column"},children:[u(j,{autoFocus:!0,error:s,label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",value:l,helperText:i,variant:"filled",onChange:k,sx:{mb:1}}),u(j,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",value:p,variant:"filled",multiline:!0,maxRows:4,onChange:b})]})}),r(Z,{children:[u(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:I,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]})},$4=()=>{const n=G(),[e,t]=o.exports.useState(!1),[s,i]=o.exports.useState(!1),[a,l]=o.exports.useState(null),c=o.exports.useCallback(h=>{n(`/tasks/${h}`)},[]);o.exports.useEffect(()=>z.fetch(),[]);const p=o.exports.useCallback(()=>{t(!1)},[]),x=o.exports.useCallback(()=>{t(!0)},[]),b=h=>{l(h),i(!0)},k=()=>{a&&z.remove(a).then(()=>{l(null)}),i(!1)},I=()=>{l(null),i(!1)},T=o.exports.useCallback(h=>{z.create(A(w({},h),{actions:[]})),p()},[]),C=o.exports.useMemo(()=>z.taskList.map(h=>u(W4,{task:h,onSelect:c,onRemove:b},h.id)),[z.taskList]);return r(m,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[u(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C"}),u(f,{variant:"contained",color:"primary",onClick:x,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),u(U,{children:C}),u(Y,{open:e,onCloseDialog:p,children:u(I4,{open:e,onAddTask:T,onCloseDialog:p})}),r(pu,{open:s,onOk:k,onCancel:I,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0443?"}),u(d,{align:"center",sx:{fontWeight:"bold"},children:a==null?void 0:a.name})]})]})};var L4=R($4);const Au=(n,e="#f1f1f1")=>o.exports.useMemo(()=>{switch(n.id){case y.STATUS.STATUS_RUN:return"#ffffe6";case y.STATUS.STATUS_DONE:return"#e8ffe6";case y.STATUS.STATUS_EXPIRED:return"#ffe6e7";default:return e}},[n]),O4=({work:n,onRemove:e})=>{const t=Au(n.status),s=vu(n.startTime),i=G(),a=n.status.id===y.STATUS.STATUS_RUN?"pointer":"default";return r(M,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(m,{sx:{display:"flex",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:()=>a,flexWrap:"wrap",bgcolor:t},onClick:()=>{n.status.id===y.STATUS.STATUS_RUN&&i("/works/current-work")},children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:n.status.name}),u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.item.name}),r(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:[!!s&&s,!s&&"\u043D\u0435\u043C\u0435\u0434\u043B\u0435\u043D\u043D\u043E"]})]}),u(m,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:u(f,{variant:"outlined",size:"small",onClick:()=>e(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]})};var R4=R(O4);const U4=()=>{var p,x;G();const[n,e]=o.exports.useState(!1),[t,s]=o.exports.useState(null);o.exports.useEffect(()=>v.fetch(),[]);const i=b=>{s(b),e(!0)},a=()=>{t&&v.remove(t).then(()=>{s(null)}),e(!1)},l=()=>{s(null),e(!1)},c=o.exports.useMemo(()=>v.workList.map(b=>u(R4,{work:b,onRemove:i},b.id)),[v.workList]);return r(m,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[u(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:u(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u0434\u0430\u0447"})}),u(U,{children:c}),r(pu,{open:n,onOk:a,onCancel:l,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443?"}),r(d,{align:"center",sx:{fontWeight:"bold"},children:[(p=t==null?void 0:t.status)==null?void 0:p.name," ",(x=t==null?void 0:t.item)==null?void 0:x.name]})]})]})};var N4=R(U4);const M4=({work:n})=>{const e=Au(n.status);let t="";switch(n.type.id){case y.ACTION.ACTION_AZIMUTH:case y.ACTION.ACTION_SLOPE:t=n.value1+" \u0433\u0440\u0430\u0434.";break;case y.ACTION.ACTION_WAIT:t=n.value1+" \u0441\u0435\u043A.";break;case y.ACTION.ACTION_SPARK:t=n.value2+" \u0441\u0435\u043A.";break}return u(D,{children:r(M,{sx:{justifyContent:"space-between",flexWrap:"wrap",bgcolor:e,mb:1},children:[u(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},fontWeight:"bold"},children:n.type.name}),u(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},textAlign:{xs:"left",sm:"center"}},children:t})," ",u(d,{sx:{width:{xs:"100%",sm:"20%"},textAlign:{xs:"left",sm:"right"},fontWeight:"bold"},children:n.status.name})]},n.id)})},_4=()=>{var s;const n=o.exports.useCallback(()=>{v.stopCurrent()},[]);o.exports.useEffect(()=>{v.fetchCurrentWork()},[]);let e=null;const t=(s=v.currentWork)==null?void 0:s.work;return t&&(e=t.details.map(i=>u(M4,{work:i},i.id))),r(D,{children:[r(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",px:1},children:[u(d,{variant:"h6",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430"}),u(m,{children:u(f,{variant:"contained",color:"primary",onClick:n,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})})]}),u(U,{children:e})]})};var P4=R(_4);const G4=({action:n,onRemove:e,onEdit:t})=>r(M,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(m,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",flexWrap:"wrap",cursor:"pointer","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>t(n),children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.type.name}),r(d,{variant:"p",component:"span",sx:{padding:1},children:[n.type.id===1&&r(d,{children:["\u0430\u0437\u0438\u043C\u0443\u0442 ",u("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===2&&r(d,{children:["\u043D\u0430\u043A\u043B\u043E\u043D ",u("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===3&&r(d,{children:["\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 ",u("span",{children:n.value1})," \u0441\u0435\u043A"]}),n.type.id===4&&r(d,{children:["\u0440\u0430\u0437\u0440\u044F\u0434 \u043A\u043E\u043B-\u0432\u043E ",u("span",{children:n.value1})," \u0432\u0440\u0435\u043C\u044F\xA0",u("span",{children:n.value2})," \u0441\u0435\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\xA0",u("span",{children:n.value3})," \u0441\u0435\u043A"]})]})]}),u(m,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:u(f,{variant:"outlined",size:"small",onClick:()=>e(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var j4=R(G4);const z4=({action:n,onSubmit:e,onCloseDialog:t})=>{const s=o.exports.useMemo(()=>({id:y.actionTypes[0].id,name:y.actionTypes[0].name}),[]),i=o.exports.useMemo(()=>({id:null,type:s,value1:0,value2:0,value3:0}),[]),[a,l]=o.exports.useState(n||i),[c,p]=o.exports.useState(()=>y.actionTypes.find(C=>C.id===a.type.id)),x=C=>{l(()=>A(w({},a),{value1:+C.target.value}))},b=C=>{l(()=>A(w({},a),{value2:+C.target.value}))},k=C=>{l(()=>A(w({},a),{value3:+C.target.value}))},I=C=>{const h=C.target.value;p(h),l(A(w({},a),{type:{id:h.id,name:h.name},value1:1,value2:0,value3:0}))},T=o.exports.useMemo(()=>y.actionTypes.map(C=>u(Cu,{value:C,children:C.name},C.id)),[]);return r(D,{children:[u(K,{children:u(d,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})}),u(X,{children:r(m,{sx:{display:"flex",flexDirection:"column"},children:[u(J,{fullWidth:!0,sx:ru.gutters,children:u(yu,{autoFocus:!0,value:c,onChange:I,children:T})}),u(J,{fullWidth:!0,children:u(j,{label:c.value1.label,value:a.value1,onChange:x,type:"number",inputProps:{max:c.value1.max,min:c.value1.min,step:c.value1.step},sx:ru.gutters,InputLabelProps:{shrink:!0}})}),c.id===4&&u(j,{label:c.value2.label,value:a.value2,onChange:b,type:"number",inputProps:{max:c.value2.max,min:c.value2.min,step:c.value2.step},sx:ru.gutters,InputLabelProps:{shrink:!0}}),c.id===4&&u(j,{label:c.value3.label,value:a.value3,onChange:k,type:"number",inputProps:{max:c.value3.max,min:c.value3.min,step:c.value3.step},sx:ru.gutters,InputLabelProps:{shrink:!0}})]})}),r(Z,{children:[u(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:()=>e(a),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},ru={gutters:{my:1}};var H4=R(z4);const V4=()=>{var $;const n=Vu(),e=G(),[t,s]=o.exports.useState(!1),[i,a]=o.exports.useState(null),[l,c]=o.exports.useState({}),[p,x]=o.exports.useState(!1),[b,k]=o.exports.useState(null),I=o.exports.useCallback(()=>{e("/tasks")},[]);o.exports.useEffect(()=>{z.fetchById(n.id).then(g=>c(g))},[]);const T=o.exports.useCallback(()=>{s(!1)},[]),C=o.exports.useCallback(g=>{a(g),s(!0)},[]),h=o.exports.useCallback(()=>{a(null),s(!0)},[]),B=g=>{k(g),x(!0)},P=()=>{if(b){const g=l.actions.filter(F=>b.id!==F.id),O=A(w({},l),{actions:g});c(O),z.update(O).then(()=>{k(null)})}x(!1)},iu=()=>{k(null),x(!1)},au=g=>{g.id||(g.id=Ku());const O=l.actions.findIndex(uu=>uu.id===g.id),F=[...l.actions];O===-1?F.push(g):F[O]=w({},g);const N=A(w({},l),{actions:[...F]});c(N),s(!1),z.update(N)},W=Array.isArray(l.actions)?l.actions.map(g=>u(j4,{action:g,onRemove:B,onEdit:C},g.id)):null;return r(m,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[u(d,{variant:"h5",children:"\u0421\u043E\u0441\u0442\u0430\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"}),r(m,{children:[u(f,{variant:"contained",color:"primary",onClick:I,sx:{mr:1},children:"\u041A \u0441\u043F\u0438\u0441\u043A\u0443"}),u(f,{variant:"contained",color:"primary",onClick:h,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]}),u(U,{children:W}),u(Y,{open:t,onCloseDialog:T,children:u(H4,{open:t,onCloseDialog:T,onSubmit:au,action:i})}),r(pu,{open:p,onOk:P,onCancel:iu,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?"}),u(d,{align:"center",sx:{fontWeight:"bold"},children:($=b==null?void 0:b.type)==null?void 0:$.name})]})]})};var K4=R(V4);const X4=()=>{o.exports.useEffect(()=>{E.fetch()},[]);const n=t=>{E.update(w({},t))},e=E.settingList.map(t=>{let s=!0;return t.id===E.SETTING.SETTING_VERSION&&(s=!1),u(Du,{setting:t,onEdit:n,editable:s},t.id)});return u(D,{children:u(U,{sx:{mb:2},children:e})})};var Z4=R(X4);const q4=({openDialog:n,openConfirm:e})=>r(D,{children:[u(f,{variant:"contained",color:"primary",onClick:()=>{e("update")},sx:{mr:1,mb:1},children:"\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),u(f,{variant:"contained",color:"primary",onClick:()=>{e("shutdown")},sx:{mr:1,mb:1},children:"\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E"}),u(f,{variant:"contained",color:"primary",onClick:()=>{n("azimuth")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"}),u(f,{variant:"contained",color:"primary",onClick:()=>{n("slope")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430"})]}),J4=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0430 \u0430\u0437\u0438\u043C\u0443\u0442 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 5 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:5},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 10 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:10},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 15 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:15}],Q4=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043D\u0430\u043A\u043B\u043E\u043D \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u043D\u0430 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 2 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:2},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 4 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:4},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 6 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:6}],Y4=({onCancel:n,mode:e})=>{const[t,s]=o.exports.useState(0),[i,a]=o.exports.useState(!1);let l="",c=[];switch(e){case"azimuth":l="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430",c=J4;break;case"slope":l="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430",c=Q4;break}const p=c.length,[x,b]=o.exports.useState(new Array(p).fill(0)),[k,I]=o.exports.useState(new Array(p).fill(0)),T=(W,$=3)=>Number(W.toFixed($)),C=()=>{v.stopCurrent(),a(!0);const W=c[t].time;let $=()=>{};switch(e){case"azimuth":$=E.calibrateAzimuth;break;case"slope":$=E.calibrateSlope;break}$(W)},h=()=>{v.stopCurrent(),n()},B=W=>{const $=+W.target.value,g=[...x],O=[...k];g[t]=$;let F=T(($-g[t-1])/c[t].time);F=F<=0?0:F,O[t]=F,b(g),I(O)},P=()=>{v.stopCurrent();const W=[0];for(let N=1;N<c.length;N++){const uu=T((x[N]-x[N-1])/c[N].time);W.push(uu)}const $=W.reduce((N,uu)=>N+uu),g=T($/(c.length-1));let O={},F={};switch(e){case"azimuth":O=A(w({},E.settingList[0]),{value:g}),F=A(w({},E.settingList[2]),{value:x[x.length-1]});break;case"slope":O=A(w({},E.settingList[1]),{value:g}),F=A(w({},E.settingList[3]),{value:x[x.length-1]});break}g>0&&(E.update(O),E.update(F)),n()},iu=()=>{s(W=>W+1),a(!1)},au=()=>{s(W=>W-1),a(!1)};return r(D,{children:[u(K,{children:u(d,{children:l})}),u(X,{children:r(m,{sx:{display:"flex",flexDirection:"column"},children:[u(m,{sx:{p:2},children:c[t].description}),t!==0&&r(J,{children:[u(f,{onClick:C,variant:"contained",color:"primary",disabled:i,sx:{width:{md:"50%",xl:"25%"},mb:1,ml:1},children:"\u0421\u0442\u0430\u0440\u0442"}),u(j,{sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:x[t],onChange:B,InputLabelProps:{shrink:!0}}),r(d,{sx:{mx:1},children:["\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C: ",k[t]]})]}),u(Xu,{sx:{justifySelf:"flex-end"},variant:"text",steps:p,position:"static",activeStep:t,nextButton:r(f,{size:"small",onClick:iu,disabled:t===p-1,children:["\u0414\u0430\u043B\u0435\u0435",u(Zu,{})]}),backButton:r(f,{size:"small",onClick:au,disabled:t===0,children:[u(qu,{}),"\u041D\u0430\u0437\u0430\u0434"]})})]})}),r(Z,{children:[u(f,{onClick:h,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:P,children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},ue=()=>{const n=o.exports.useRef();return u(D,{children:r(m,{sx:{display:"flex",width:"100%",flexWrap:"wrap"},children:[u(f,{variant:"contained",color:"primary",onClick:()=>{E.backup()},sx:{mr:1,mb:1},children:"\u0420\u0435\u0437\u0435\u0440\u0432\u043D\u0430\u044F \u043A\u043E\u043F\u0438\u044F \u0411\u0414"}),u(m,{children:r("label",{htmlFor:"upload",children:[u("input",{ref:n,style:{display:"none"},id:"upload",name:"upload",type:"file",onInput:s=>{var i=new FileReader;i.readAsText(s.target.files[0]),i.onloadend=function(a){E.restore(a.target.result).then(l=>{console.log(l)})}}}),u(f,{variant:"contained",color:"primary",component:"span",sx:{mr:1,mb:1},children:"\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0411\u0414"})]})})]})})},ee=()=>{const[n,e]=o.exports.useState(!1),[t,s]=o.exports.useState(!1),[i,a]=o.exports.useState("azimuth"),[l,c]=o.exports.useState(""),[p,x]=o.exports.useState(""),b=h=>{a(h),e(!0)},k=h=>{c(h);let B="";switch(h){case"update":B=`\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u0439\u043C\u0435\u0442 3-5 \u043C\u0438\u043D\u0443\u0442.
                   \u0412 \u044D\u0442\u043E \u0432\u0440\u0435\u043C\u044F \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0443\u0434\u0435\u0442 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D.
                   \u041D\u0435 \u043E\u0442\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043E\u0442 \u043F\u0438\u0442\u0430\u043D\u0438\u044F.

                   \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?
        `;break;case"shutdown":B=`\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0441\u0435\u0440\u0432\u0435\u0440?
        `;break}x(()=>B),s(!0)},I=()=>{let h=()=>{};switch(l){case"update":h=E.updateServer;break;case"shutdown":h=E.shutdown;break}h(),C()},T=()=>{e(!1)},C=()=>{s(!1)};return r(D,{children:[u(d,{variant:"h6",children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"}),u(Z4,{}),u(q4,{openDialog:b,openConfirm:k}),u(ue,{}),u(Y,{open:n,onCloseDialog:T,children:u(Y4,{onCancel:T,mode:i})}),r(Y,{open:t,onCloseDialog:C,children:[u(K,{children:u(d,{children:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F"})}),u(X,{children:p}),r(Z,{children:[u(f,{onClick:C,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:I,children:"Ok"})]})]})]})},H="/",te=({routes:n})=>u(D,{children:u(Ju,{children:u(h4,{children:u(Qu,{children:r(_,{path:`${H}`,element:u(l4,{}),children:[u(_,{path:`${H}`,element:u(ku,{})}),r(_,{path:`${H}tasks`,element:u(S4,{}),children:[u(_,{path:`${H}tasks`,element:u(L4,{})}),u(_,{path:`${H}tasks:id`,element:u(K4,{})})]}),r(_,{path:`${H}works`,element:u(v4,{}),children:[u(_,{path:`${H}works`,element:u(N4,{})}),u(_,{path:"/works/current-work",element:u(P4,{})})]}),u(_,{path:`${H}settings`,element:u(ee,{})}),u(_,{path:"*",element:u(ku,{})})]})})})})});const eu=Yu(`ws://${location.hostname}`);eu.on("connect",()=>{console.log("socket ",eu.connected)});eu.on("workStatusUpdate",n=>{v.fetch(),v.fetchCurrentWork()});eu.on("serverTime",n=>{E.setServerTime(+n)});eu.on("settingsUpdate",n=>{E.fetch()});const ne=u4({palette:{primary:{main:"#1976d2"},bgGray:{main:"#f9f9f9"}}},e4);t4.render(u(n4.StrictMode,{children:u(s4,{theme:ne,children:u(r4,{dateAdapter:i4,locale:du,children:u(te,{})})})}),document.getElementById("root"));
