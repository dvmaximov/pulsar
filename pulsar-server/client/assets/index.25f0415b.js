var Au=Object.defineProperty,Bu=Object.defineProperties;var Wu=Object.getOwnPropertyDescriptors;var hu=Object.getOwnPropertySymbols;var Fu=Object.prototype.hasOwnProperty,Iu=Object.prototype.propertyIsEnumerable;var ou=(n,e,t)=>e in n?Au(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e)=>{for(var t in e||(e={}))Fu.call(e,t)&&ou(n,t,e[t]);if(hu)for(var t of hu(e))Iu.call(e,t)&&ou(n,t,e[t]);return n},A=(n,e)=>Bu(n,Wu(e));var L=(n,e,t)=>(ou(n,typeof e!="symbol"?e+"":e,t),t);import{s as $u,j as u,O as lu,d as Lu,a as Ou,b as Ru,c as Nu,u as H,L as U,e as mu,A as Mu,C as cu,f as i,T as Uu,g as d,B as m,h as N,I as fu,i as _u,k as Gu,D as Pu,l as ju,r as o,m as eu,n as V,o as tu,p as R,q as f,t as xu,F as T,v as K,w as X,x as J,y as P,z as Z,E as du,M as Cu,S as yu,G as zu,H as gu,J as Eu,K as Hu,N as Vu,P as Ku,Q as Xu,R as Zu,U as qu,V as Ju,W as _,X as Qu,Y as Yu,Z as u4,_ as e4,$ as t4,a0 as n4,a1 as s4,a2 as r4}from"./vendor.f8c19e97.js";const i4=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}};i4();const a4=$u("main")({flexGrow:1,margin:10}),o4=()=>u(a4,{children:u(lu,{})}),nu="/";var bu=[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",path:`${nu}`,icon:u(Lu,{color:"primary"})},{label:"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",path:`${nu}tasks`,icon:u(Ou,{color:"primary"})},{label:"\u0417\u0430\u0434\u0430\u0447\u0438",path:`${nu}works`,icon:u(Ru,{color:"primary"})},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",path:`${nu}settings`,icon:u(Nu,{color:"primary"})}];const wu="Pulsar",l4=({toggleOpen:n})=>{const e=H(),t=bu.map(s=>u(U,{button:!0,onClick:()=>e(s.path,{replace:!0}),children:u(mu,{primary:s.label})},s.label));return u(Mu,{position:"fixed",children:u(cu,{maxWidth:"xl",children:i(Uu,{disableGutters:!0,children:[u(d,{variant:"h6",noWrap:!0,component:"h1",sx:Q.logoSm,children:wu}),u(m,{sx:Q.menu,children:u(N,{component:"nav",sx:Q.nav,children:t})}),u(m,{sx:Q.icon,children:u(fu,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:n,sx:Q.iconButton,children:u(_u,{})})}),u(d,{variant:"h6",noWrap:!0,component:"h1",sx:Q.logoXs,children:wu})]})})})},Q={logoSm:{mr:2,display:{xs:"none",sm:"flex"}},logoXs:{flexGrow:1,justifyContent:"flex-end",display:{xs:"flex",sm:"none"}},menu:{flexGrow:1,justifyContent:"flex-end",display:{xs:"none",sm:"flex"}},nav:{display:"flex",flexDirection:"row"},iconButton:{padding:"20px"},icon:{display:{xs:"flex",sm:"none"}}},c4=({open:n,toggleOpen:e})=>{const t=H(),s=a=>{t(a,{replace:!0}),e()},r=bu.map(a=>i(U,{button:!0,onClick:()=>s(a.path),children:[u(Gu,{children:a.icon}),u(mu,{primary:a.label})]},a.label));return i(Pu,{sx:vu.drawer,open:n,onClose:e,children:[i(m,{sx:{display:{xs:"flex",sm:"none"}},children:[u(d,{children:"Pulsar"}),u(fu,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e,sx:vu.closeButton,children:u(ju,{})})]}),u(N,{component:"nav",children:r})]})},vu={drawer:{width:300,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box",top:"auto",padding:"10px 10px"}},closeButton:{color:"text.secondary"}},d4=n=>{const[e,t]=o.exports.useState(!!n);return[e,()=>{t(()=>!e)}]},p4=({children:n})=>{const[e,t]=d4(!1);return i(cu,{maxWidth:"100vw",disableGutters:!0,sx:Du.container,children:[u(l4,{toggleOpen:t}),i(cu,{sx:Du.content,disableGutters:!0,children:[u(c4,{open:e,toggleOpen:t}),n]})]})},Du={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{display:"flex",flexGrow:1,mt:8}},ku=(n,e="dd-MM-yyyy - HH:mm")=>o.exports.useMemo(()=>n?eu(n,e):"",[n]),q=`${location.protocol}//${location.hostname}`;class h4{async fetch(e){return(await V.get(`${q}/${e}`)).data}async fetchById(e,t){return(await V.get(`${q}/${e}/${t}`)).data}async create(e,t){return(await V.post(`${q}/${e}`,t)).data}async remove(e,t){return(await V.delete(`${q}/${e}/${t}`)).data}async update(e,t){return(await V.put(`${q}/${e}/${t.id}`,t)).data}async backup(e){await V({url:`${q}/${e}`,method:"GET",responseType:"blob"}).then(t=>{const s=t.headers["content-type"],r=new Blob([t.data],{type:s,encoding:"UTF-8"}),a=document.createElement("a"),l=t.headers["content-disposition"].split("filename=")[1].replace(/"/g,"");a.href=window.URL.createObjectURL(r),a.download=l,a.click()})}async restore(e,t){const s={result:null,error:null};let r=null;try{if(r=JSON.parse(t),!r.settings)return s.error="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u0444\u0430\u0439\u043B\u0430.",s}catch(a){return s.error=a,s}return await V.post(`${q}/${e}`,r)}}var D=new h4;class m4{constructor(){L(this,"actionTypes",[]);L(this,"workTypes",[]);L(this,"statusTypes",[]);L(this,"WORK",{});L(this,"STATUS",{});L(this,"ACTION",{});tu(this),this.fetch()}fill(e){this.actionTypes=e.actionTypes,this.workTypes=e.workTypes,this.statusTypes=e.statusTypes,this.WORK=e.WORK,this.STATUS=e.STATUS,this.ACTION=e.ACTION}async fetch(){const e=await D.fetch("dictonary");this.fill(e.result)}getStatus(e){return this.statusTypes.find(t=>t.id===e)}}const E=new m4;class f4{constructor(){L(this,"settingList",[]);L(this,"SETTING",{});L(this,"serverTime","");tu(this)}setServerTime(e){this.serverTime=eu(e,"dd-MM-yyyy - HH:mm")}fill(e){this.settingList=e}fillSETTING(e){this.SETTING=e}async fetch(){const e=await D.fetch("settings");this.fill(e.settings.result),this.fillSETTING(e.SETTING),await D.fetch("settings/serverTime")}async update(e){await D.update("settings",e);const t=[...this.settingList],s=t.findIndex(r=>r.id===e.id);t[s]=b({},e),this.fill(t)}async updateServer(){await D.fetch("settings/updateServer")}async backup(){await D.backup("settings/backup")}async restore(e){return setTimeout(()=>{window.close()},2e3),await D.restore("settings/restore",e)}async shutdown(){setTimeout(()=>{window.close()},2e3),await D.get("settings/shutdown")}async calibrateAzimuth(e){return await D.fetch(`works/calibrateAzimuth?time=${e}`)}async calibrateSlope(e){return await D.fetch(`works/calibrateSlope?time=${e}`)}}const w=new f4;class x4{constructor(){L(this,"taskList",[]);tu(this)}fill(e){this.taskList=e}async fetch(){const e=await D.fetch("tasks");this.fill(e.result)}async fetchById(e){return(await D.fetchById("tasks",e)).result}async remove(e){const t=await D.remove("tasks",e.id),s=this.taskList.filter(r=>r.id!==e.id);return this.fill(s),t.result}async create(e){const s=(await D.create("tasks",e)).result;this.fill([...this.taskList,s])}async update(e){const t=await D.update("tasks",e);let s=this.taskList.findIndex(r=>r.id===e.id);return this.taskList[s]=b({},e),t.result}}const j=new x4;class C4{constructor(){L(this,"workList",[]);L(this,"currentWork",null);tu(this)}fill(e){this.workList=e}fillCurrentWork(e){e.length>0?this.currentWork=e[0]:this.currentWork=null}async fetch(){const e=await D.fetch("works");this.fill(e.result)}async fetchCurrentWork(){const e=await D.fetch("works/currentWork");this.fillCurrentWork(e.result)}async create(e){const s=(await D.create("works",e)).result;this.fill([...this.workList,s])}async stopCurrent(){return await D.fetch("works/stopCurrent")}async remove(e){const t=await D.remove("works",e.id),s=this.workList.filter(r=>r.id!==e.id);return this.fill(s),t.result}}const k=new C4,y4=()=>{var c;o.exports.useEffect(()=>{k.fetch()},[]);const n=H(),e=o.exports.useCallback(()=>{n("/works/current-work")},[]),t=o.exports.useCallback(()=>{k.stopCurrent()},[]),s=k.workList.filter(p=>p.status.id===E.STATUS.STATUS_WAIT).map(p=>{const x=ku(p.startTime);return i(U,{children:[p.item.name," ",x]},p.id)}),r=k.workList.filter(p=>p.status.id===E.STATUS.STATUS_RUN).map(p=>u(U,{children:p.item.name},p.id));let a=[];const l=(c=k.currentWork)==null?void 0:c.work;return l&&(a=l.details.filter(p=>p.status.id===E.STATUS.STATUS_RUN).map(p=>u(U,{children:p.type.name},p.id))),i(m,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[u(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0437\u0430\u0434\u0430\u043D\u0438\u044F\u0445"}),i(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,my:2,flexWrap:"wrap"},children:[u(d,{variant:"span",children:"\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435"}),s.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442"}),s.length!==0&&u(N,{children:s})]}),i(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",p:1,mb:2},children:[u(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430 "}),r.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),r.length!==0&&u(N,{children:r})]}),i(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,bgcolor:"#cdcdcd"},children:[u(d,{variant:"span",children:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"}),a.length===0&&u(d,{variant:"span",children:"\u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),a.length!==0&&u(N,{children:a})]}),i(m,{sx:{display:"flex",bgcolor:"#cdcdcd"},children:[u(f,{variant:"contained",color:"primary",onClick:e,sx:{m:1},children:"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"}),u(f,{variant:"contained",color:"primary",onClick:t,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})]})]})};var g4=R(y4);const Y=n=>{const{open:e,onCloseDialog:t,children:s}=n;return u(xu,{open:e,onClose:t,sx:{"& .MuiPaper-root":{width:{xs:"98%",sm:"50%"}}},children:s})},E4=({setting:n,onCancel:e,onSubmit:t})=>{const[s,r]=o.exports.useState(b({},n)),a=l=>{const c=+l.target.value;r(A(b({},s),{value:c}))};return i(T,{children:[u(K,{children:u(d,{children:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430"})}),u(X,{children:u(m,{sx:{display:"flex",flexDirection:"column"},children:u(J,{children:u(P,{autoFocus:!0,sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:s.value,onChange:a,InputLabelProps:{shrink:!0}})})})}),i(Z,{children:[u(f,{onClick:e,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:()=>t(s),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},Tu=({setting:n,onEdit:e,editable:t=!0})=>{const[s,r]=o.exports.useState(!1),a=()=>{r(!0)},l=()=>{r(!1)},c=p=>{e(b({},p)),l()};return i(T,{children:[i(U,{sx:{justifyContent:"space-between",wordWrap:"wrap",bgcolor:"#f9f9f9"},children:[u(d,{sx:{width:"40%"},children:n.name}),i(m,{sx:{width:"60%",display:"flex",justifyContent:"space-between"},children:[u(d,{sx:{width:"50%",display:"flex",justifyContent:"center",fontSize:"1.5rem",color:"blue"},children:n.value}),t&&u(f,{onClick:a,children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"})]})]},n.id),u(Y,{open:s,onCloseDialog:l,children:u(E4,{onCancel:l,onSubmit:c,setting:n})})]})},b4=()=>{o.exports.useEffect(()=>{w.fetch()},[]);const n=w.settingList.filter(e=>e.id!==w.SETTING.SETTING_AZIMUTH_SPEED&&e.id!==w.SETTING.SETTING_SLOPE_SPEED).map(e=>u(Tu,{setting:e,editable:!1},e.id));return i(m,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[u(d,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E\u0431 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0435"}),i(m,{sx:{display:"flex",justifyContent:"space-between",px:2,mt:2,color:"blue"},children:[u(d,{variant:"div",children:"\u0412\u0440\u0435\u043C\u044F \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),u(d,{variant:"div",children:w.serverTime})]}),u(N,{sx:{mb:2},children:n})]})};var w4=R(b4);const v4=()=>i(T,{children:[u(d,{sx:{color:"red",border:"2px solid red",borderRadius:1,fontWeight:"bold",width:"80%",m:"10px auto",p:1},children:"\u0412\u041D\u0418\u041C\u0410\u041D\u0418\u0415!!! \u041F\u0435\u0440\u0435\u0434 \u0440\u0430\u0431\u043E\u0442\u043E\u0439 \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0432\u0442\u044C \u0432\u044B\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u043E\u0433\u043E \u0430\u0437\u0438\u043C\u0443\u0442\u0430 \u0438 \u043D\u0430\u043A\u043B\u043E\u043D\u0430!!!"}),i(m,{sx:{bgcolor:"#f9f9f9",p:1,minHeight:"85%",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[u(m,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:u(g4,{})}),u(m,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:u(w4,{})})]})]}),D4=()=>u(T,{children:u(lu,{})}),k4=()=>u(T,{children:u(lu,{})}),T4=({task:n,onSubmit:e,onCancel:t})=>{const s=o.exports.useMemo(()=>E.workTypes.find(h=>h.id===E.WORK.WORK_PROGRAMM),[]),r=o.exports.useMemo(()=>E.statusTypes.find(h=>h.id===E.STATUS.STATUS_RUN),[]),a=o.exports.useMemo(()=>({type:s,status:r,item:n,startTime:null,details:[]}),[]),[l,c]=o.exports.useState(a),[p,x]=o.exports.useState(r),[g,S]=o.exports.useState(eu(new Date,"yyyy-MM-dd'T'HH:mm",{locale:du})),I=h=>{const B=eu(h,"yyyy-MM-dd'T'HH:mm",{locale:du}),G=gu(Eu(B));S(B),c(A(b({},l),{startTime:G}))},v=h=>{const B=h.target.value;let G=null;x(B),B.id===E.STATUS.STATUS_WAIT&&(G=gu(Eu(g))),c(A(b({},l),{status:B,startTime:G}))},C=o.exports.useMemo(()=>E.statusTypes.map(h=>(h.id===E.STATUS.STATUS_RUN||h.id===E.STATUS.STATUS_WAIT)&&u(Cu,{value:h,children:h.name},h.id)),[]);return i(T,{children:[u(K,{children:u(d,{children:"\u0417\u0430\u0434\u0430\u043D\u0438\u0435"})}),u(X,{children:i(m,{sx:{display:"flex",flexDirection:"column"},children:[u(J,{fullWidth:!0,sx:S4.gutters,children:u(yu,{autoFocus:!0,value:p,onChange:v,children:C})}),p.id===E.STATUS.STATUS_WAIT&&u(J,{children:u(zu,{value:g,onChange:I,renderInput:h=>u(P,b({},h))})})]})}),i(Z,{children:[u(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:()=>e(l),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},S4={gutters:{my:1}};var A4=R(T4);const B4=({task:n,onSelect:e,onRemove:t})=>{const[s,r]=o.exports.useState(!1),a=H(),l=()=>{r(!0)},c=()=>{r(!1)},p=async x=>{await k.create(x),r(!1),x.status.id===E.STATUS.STATUS_RUN&&a("/works/current-work")};return i(T,{children:[i(U,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[i(m,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"},alignItems:"center"},onClick:()=>e(n.id),children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.name}),u(d,{variant:"p",component:"span",sx:{padding:1,fontSize:"caption.fontSize"},children:n.description})]}),i(m,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:[u(f,{variant:"outlined",size:"small",sx:{mr:{xs:0,sm:.5},mb:{xs:.5,sm:0}},onClick:l,children:"\u0437\u0430\u043F\u0443\u0441\u043A"}),u(f,{variant:"outlined",size:"small",onClick:()=>t(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})]})]}),u(Y,{open:s,onCloseDialog:c,children:u(A4,{onCancel:c,onSubmit:p,task:n})})]})};var W4=R(B4);const pu=({open:n,children:e,onOk:t,onCancel:s})=>u(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:i(xu,{open:n,onClose:s,children:[u(K,{}),u(X,{children:e}),i(Z,{children:[u(f,{onClick:s,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:t,children:"Ok"})]})]})}),F4=n=>{const[e,t]=o.exports.useState(!1),[s,r]=o.exports.useState("");return[e,s,l=>{t(l),r(l?n:"")}]},I4=({open:n,onAddTask:e,onCloseDialog:t})=>{const[s,r,a]=F4("\u0418\u043C\u044F \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C."),[l,c]=o.exports.useState(""),[p,x]=o.exports.useState(""),g=v=>{x(v.target.value)},S=v=>{const C=v.target.value;a(!C),c(v.target.value)},I=()=>{if(!l){a(!0);return}e({name:l,description:p})};return o.exports.useEffect(()=>{n&&(c(""),a(!1),x(""))},[n]),i(T,{children:[u(K,{children:u(d,{children:"\u041D\u043E\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"})}),u(X,{children:i(m,{sx:{display:"flex",flexDirection:"column"},children:[u(P,{autoFocus:!0,error:s,label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",value:l,helperText:r,variant:"filled",onChange:S,sx:{mb:1}}),u(P,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",value:p,variant:"filled",multiline:!0,maxRows:4,onChange:g})]})}),i(Z,{children:[u(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:I,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]})},$4=()=>{const n=H(),[e,t]=o.exports.useState(!1),[s,r]=o.exports.useState(!1),[a,l]=o.exports.useState(null),c=o.exports.useCallback(h=>{n(`/tasks/${h}`)},[]);o.exports.useEffect(()=>j.fetch(),[]);const p=o.exports.useCallback(()=>{t(!1)},[]),x=o.exports.useCallback(()=>{t(!0)},[]),g=h=>{l(h),r(!0)},S=()=>{a&&j.remove(a).then(()=>{l(null)}),r(!1)},I=()=>{l(null),r(!1)},v=o.exports.useCallback(h=>{j.create(A(b({},h),{actions:[]})),p()},[]),C=o.exports.useMemo(()=>j.taskList.map(h=>u(W4,{task:h,onSelect:c,onRemove:g},h.id)),[j.taskList]);return i(m,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[i(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[u(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C"}),u(f,{variant:"contained",color:"primary",onClick:x,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),u(N,{children:C}),u(Y,{open:e,onCloseDialog:p,children:u(I4,{open:e,onAddTask:v,onCloseDialog:p})}),i(pu,{open:s,onOk:S,onCancel:I,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0443?"}),u(d,{align:"center",sx:{fontWeight:"bold"},children:a==null?void 0:a.name})]})]})};var L4=R($4);const Su=(n,e="#f1f1f1")=>o.exports.useMemo(()=>{switch(n.id){case E.STATUS.STATUS_RUN:return"#ffffe6";case E.STATUS.STATUS_DONE:return"#e8ffe6";default:return e}},[n]),O4=({work:n,onSelect:e,onRemove:t})=>{const s=Su(n.status),r=ku(n.startTime);return i(U,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[i(m,{sx:{display:"flex",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap",bgcolor:s},children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:n.status.name}),u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.item.name}),u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:r})]}),u(m,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:u(f,{variant:"outlined",size:"small",onClick:()=>t(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]})};var R4=R(O4);const N4=()=>{var p,x;H();const[n,e]=o.exports.useState(!1),[t,s]=o.exports.useState(null);o.exports.useEffect(()=>k.fetch(),[]);const r=g=>{s(g),e(!0)},a=()=>{t&&k.remove(t).then(()=>{s(null)}),e(!1)},l=()=>{s(null),e(!1)},c=o.exports.useMemo(()=>k.workList.map(g=>u(R4,{work:g,onRemove:r},g.id)),[k.workList]);return i(m,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[u(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:u(d,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u0434\u0430\u0447"})}),u(N,{children:c}),i(pu,{open:n,onOk:a,onCancel:l,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443?"}),i(d,{align:"center",sx:{fontWeight:"bold"},children:[(p=t==null?void 0:t.status)==null?void 0:p.name," ",(x=t==null?void 0:t.item)==null?void 0:x.name]})]})]})};var M4=R(N4);const U4=({work:n})=>{const e=Su(n.status);let t="";switch(n.type.id){case E.ACTION.ACTION_AZIMUTH:case E.ACTION.ACTION_SLOPE:t=n.value1+" \u0433\u0440\u0430\u0434.";break;case E.ACTION.ACTION_WAIT:t=n.value1+" \u0441\u0435\u043A.";break;case E.ACTION.ACTION_SPARK:t=n.value2+" \u0441\u0435\u043A.";break}return u(T,{children:i(U,{sx:{justifyContent:"space-between",flexWrap:"wrap",bgcolor:e,mb:1},children:[u(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},fontWeight:"bold"},children:n.type.name}),u(d,{sx:{width:{xs:"100%",sm:"15%",md:"15%"},textAlign:{xs:"left",sm:"center"}},children:t})," ",u(d,{sx:{width:{xs:"100%",sm:"20%"},textAlign:{xs:"left",sm:"right"},fontWeight:"bold"},children:n.status.name})]},n.id)})},_4=()=>{var s;const n=o.exports.useCallback(()=>{k.stopCurrent()},[]);o.exports.useEffect(()=>{k.fetchCurrentWork()},[]);let e=null;const t=(s=k.currentWork)==null?void 0:s.work;return t&&(e=t.details.map(r=>u(U4,{work:r},r.id))),i(T,{children:[i(m,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#cdcdcd",px:1},children:[u(d,{variant:"h6",children:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0437\u0430\u0434\u0430\u0447\u0430"}),u(m,{children:u(f,{variant:"contained",color:"primary",onClick:n,sx:{m:1},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C"})})]}),u(N,{children:e})]})};var G4=R(_4);const P4=({action:n,onRemove:e,onEdit:t})=>i(U,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[i(m,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",flexWrap:"wrap",cursor:"pointer","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>t(n),children:[u(d,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.type.name}),i(d,{variant:"p",component:"span",sx:{padding:1},children:[n.type.id===1&&i(d,{children:["\u0430\u0437\u0438\u043C\u0443\u0442 ",u("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===2&&i(d,{children:["\u043D\u0430\u043A\u043B\u043E\u043D ",u("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===3&&i(d,{children:["\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 ",u("span",{children:n.value1})," \u0441\u0435\u043A"]}),n.type.id===4&&i(d,{children:["\u0440\u0430\u0437\u0440\u044F\u0434 \u043A\u043E\u043B-\u0432\u043E ",u("span",{children:n.value1})," \u0432\u0440\u0435\u043C\u044F\xA0",u("span",{children:n.value2})," \u0441\u0435\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\xA0",u("span",{children:n.value3})," \u0441\u0435\u043A"]})]})]}),u(m,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:u(f,{variant:"outlined",size:"small",onClick:()=>e(n),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var j4=R(P4);const z4=({action:n,onSubmit:e,onCloseDialog:t})=>{const s=o.exports.useMemo(()=>({id:E.actionTypes[0].id,name:E.actionTypes[0].name}),[]),r=o.exports.useMemo(()=>({id:null,type:s,value1:0,value2:0,value3:0}),[]),[a,l]=o.exports.useState(n||r),[c,p]=o.exports.useState(()=>E.actionTypes.find(C=>C.id===a.type.id)),x=C=>{l(()=>A(b({},a),{value1:+C.target.value}))},g=C=>{l(()=>A(b({},a),{value2:+C.target.value}))},S=C=>{l(()=>A(b({},a),{value3:+C.target.value}))},I=C=>{const h=C.target.value;p(h),l(A(b({},a),{type:{id:h.id,name:h.name},value1:1,value2:0,value3:0}))},v=o.exports.useMemo(()=>E.actionTypes.map(C=>u(Cu,{value:C,children:C.name},C.id)),[]);return i(T,{children:[u(K,{children:u(d,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})}),u(X,{children:i(m,{sx:{display:"flex",flexDirection:"column"},children:[u(J,{fullWidth:!0,sx:su.gutters,children:u(yu,{autoFocus:!0,value:c,onChange:I,children:v})}),u(J,{fullWidth:!0,children:u(P,{label:c.value1.label,value:a.value1,onChange:x,type:"number",inputProps:{max:c.value1.max,min:c.value1.min,step:c.value1.step},sx:su.gutters,InputLabelProps:{shrink:!0}})}),c.id===4&&u(P,{label:c.value2.label,value:a.value2,onChange:g,type:"number",inputProps:{max:c.value2.max,min:c.value2.min,step:c.value2.step},sx:su.gutters,InputLabelProps:{shrink:!0}}),c.id===4&&u(P,{label:c.value3.label,value:a.value3,onChange:S,type:"number",inputProps:{max:c.value3.max,min:c.value3.min,step:c.value3.step},sx:su.gutters,InputLabelProps:{shrink:!0}})]})}),i(Z,{children:[u(f,{onClick:t,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:()=>e(a),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},su={gutters:{my:1}};var H4=R(z4);const V4=()=>{var $;const n=Hu(),e=H(),[t,s]=o.exports.useState(!1),[r,a]=o.exports.useState(null),[l,c]=o.exports.useState({}),[p,x]=o.exports.useState(!1),[g,S]=o.exports.useState(null),I=o.exports.useCallback(()=>{e("/tasks")},[]);o.exports.useEffect(()=>{j.fetchById(n.id).then(y=>c(y))},[]);const v=o.exports.useCallback(()=>{s(!1)},[]),C=o.exports.useCallback(y=>{a(y),s(!0)},[]),h=o.exports.useCallback(()=>{a(null),s(!0)},[]),B=y=>{S(y),x(!0)},G=()=>{if(g){const y=l.actions.filter(F=>g.id!==F.id),O=A(b({},l),{actions:y});c(O),j.update(O).then(()=>{S(null)})}x(!1)},iu=()=>{S(null),x(!1)},au=y=>{y.id||(y.id=Vu());const O=l.actions.findIndex(uu=>uu.id===y.id),F=[...l.actions];O===-1?F.push(y):F[O]=b({},y);const M=A(b({},l),{actions:[...F]});c(M),s(!1),j.update(M)},W=Array.isArray(l.actions)?l.actions.map(y=>u(j4,{action:y,onRemove:B,onEdit:C},y.id)):null;return i(m,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[i(m,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[u(d,{variant:"h5",children:"\u0421\u043E\u0441\u0442\u0430\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"}),i(m,{children:[u(f,{variant:"contained",color:"primary",onClick:I,sx:{mr:1},children:"\u041A \u0441\u043F\u0438\u0441\u043A\u0443"}),u(f,{variant:"contained",color:"primary",onClick:h,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]}),u(N,{children:W}),u(Y,{open:t,onCloseDialog:v,children:u(H4,{open:t,onCloseDialog:v,onSubmit:au,action:r})}),i(pu,{open:p,onOk:G,onCancel:iu,children:[u(d,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?"}),u(d,{align:"center",sx:{fontWeight:"bold"},children:($=g==null?void 0:g.type)==null?void 0:$.name})]})]})};var K4=R(V4);const X4=()=>{o.exports.useEffect(()=>{w.fetch()},[]);const n=t=>{w.update(b({},t))},e=w.settingList.map(t=>{let s=!0;return t.id===w.SETTING.SETTING_VERSION&&(s=!1),u(Tu,{setting:t,onEdit:n,editable:s},t.id)});return u(T,{children:u(N,{sx:{mb:2},children:e})})};var Z4=R(X4);const q4=({openDialog:n,openConfirm:e})=>i(T,{children:[u(f,{variant:"contained",color:"primary",onClick:()=>{e("update")},sx:{mr:1,mb:1},children:"\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),u(f,{variant:"contained",color:"primary",onClick:()=>{e("shutdown")},sx:{mr:1,mb:1},children:"\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E"}),u(f,{variant:"contained",color:"primary",onClick:()=>{n("azimuth")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"}),u(f,{variant:"contained",color:"primary",onClick:()=>{n("slope")},sx:{mr:1,mb:1},children:"\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430"})]}),J4=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0430 \u0430\u0437\u0438\u043C\u0443\u0442 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 5 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:5},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 10 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:10},{description:`\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 15 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0430\u0437\u0438\u043C\u0443\u0442\u0430.`,time:15}],Q4=[{description:'\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043D\u0430\u043A\u043B\u043E\u043D \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u043D\u0430 0 \u0438 \u043D\u0430\u0436\u043C\u0438\u0442\u0435 "\u0414\u0430\u043B\u0435\u0435".',time:0},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 2 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:2},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 4 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:4},{description:`\u041D\u0430\u043A\u043B\u043E\u043D \u043F\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C\u044E 6 \u0441\u0435\u043A. \u041F\u043E\u0441\u043B\u0435 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435
                  \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0443\u0433\u043B\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430.`,time:6}],Y4=({onCancel:n,mode:e})=>{const[t,s]=o.exports.useState(0),[r,a]=o.exports.useState(!1);let l="",c=[];switch(e){case"azimuth":l="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430",c=J4;break;case"slope":l="\u041A\u0430\u043B\u0438\u0431\u0440\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430",c=Q4;break}const p=c.length,[x,g]=o.exports.useState(new Array(p).fill(0)),[S,I]=o.exports.useState(new Array(p).fill(0)),v=(W,$=3)=>Number(W.toFixed($)),C=()=>{k.stopCurrent(),a(!0);const W=c[t].time;let $=()=>{};switch(e){case"azimuth":$=w.calibrateAzimuth;break;case"slope":$=w.calibrateSlope;break}$(W)},h=()=>{k.stopCurrent(),n()},B=W=>{const $=+W.target.value,y=[...x],O=[...S];y[t]=$;let F=v(($-y[t-1])/c[t].time);F=F<=0?0:F,O[t]=F,g(y),I(O)},G=()=>{k.stopCurrent();const W=[0];for(let M=1;M<c.length;M++){const uu=v((x[M]-x[M-1])/c[M].time);W.push(uu)}const $=W.reduce((M,uu)=>M+uu),y=v($/(c.length-1));let O={},F={};switch(e){case"azimuth":O=A(b({},w.settingList[0]),{value:y}),F=A(b({},w.settingList[2]),{value:x[x.length-1]});break;case"slope":O=A(b({},w.settingList[1]),{value:y}),F=A(b({},w.settingList[3]),{value:x[x.length-1]});break}y>0&&(w.update(O),w.update(F)),n()},iu=()=>{s(W=>W+1),a(!1)},au=()=>{s(W=>W-1),a(!1)};return i(T,{children:[u(K,{children:u(d,{children:l})}),u(X,{children:i(m,{sx:{display:"flex",flexDirection:"column"},children:[u(m,{sx:{p:2},children:c[t].description}),t!==0&&i(J,{children:[u(f,{onClick:C,variant:"contained",color:"primary",disabled:r,sx:{width:{md:"50%",xl:"25%"},mb:1,ml:1},children:"\u0421\u0442\u0430\u0440\u0442"}),u(P,{sx:{m:1},label:"\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435",type:"number",inputProps:{max:350,min:0,step:.1},value:x[t],onChange:B,InputLabelProps:{shrink:!0}}),i(d,{sx:{mx:1},children:["\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C: ",S[t]]})]}),u(Ku,{sx:{justifySelf:"flex-end"},variant:"text",steps:p,position:"static",activeStep:t,nextButton:i(f,{size:"small",onClick:iu,disabled:t===p-1,children:["\u0414\u0430\u043B\u0435\u0435",u(Xu,{})]}),backButton:i(f,{size:"small",onClick:au,disabled:t===0,children:[u(Zu,{}),"\u041D\u0430\u0437\u0430\u0434"]})})]})}),i(Z,{children:[u(f,{onClick:h,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:G,children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},ue=()=>{const n=o.exports.useRef();return u(T,{children:i(m,{sx:{display:"flex",width:"100%",flexWrap:"wrap"},children:[u(f,{variant:"contained",color:"primary",onClick:()=>{w.backup()},sx:{mr:1,mb:1},children:"\u0420\u0435\u0437\u0435\u0440\u0432\u043D\u0430\u044F \u043A\u043E\u043F\u0438\u044F \u0411\u0414"}),u(m,{children:i("label",{htmlFor:"upload",children:[u("input",{ref:n,style:{display:"none"},id:"upload",name:"upload",type:"file",onInput:s=>{var r=new FileReader;r.readAsText(s.target.files[0]),r.onloadend=function(a){w.restore(a.target.result).then(l=>{console.log(l)})}}}),u(f,{variant:"contained",color:"primary",component:"span",sx:{mr:1,mb:1},children:"\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0411\u0414"})]})})]})})},ee=()=>{const[n,e]=o.exports.useState(!1),[t,s]=o.exports.useState(!1),[r,a]=o.exports.useState("azimuth"),[l,c]=o.exports.useState(""),[p,x]=o.exports.useState(""),g=h=>{a(h),e(!0)},S=h=>{c(h);let B="";switch(h){case"update":B=`\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u0439\u043C\u0435\u0442 3-5 \u043C\u0438\u043D\u0443\u0442.
                   \u0412 \u044D\u0442\u043E \u0432\u0440\u0435\u043C\u044F \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0443\u0434\u0435\u0442 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D.
                   \u041D\u0435 \u043E\u0442\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043E\u0442 \u043F\u0438\u0442\u0430\u043D\u0438\u044F.

                   \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?
        `;break;case"shutdown":B=`\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0441\u0435\u0440\u0432\u0435\u0440?
        `;break}x(()=>B),s(!0)},I=()=>{let h=()=>{};switch(l){case"update":h=w.updateServer;break;case"shutdown":h=w.shutdown;break}h(),C()},v=()=>{e(!1)},C=()=>{s(!1)};return i(T,{children:[u(d,{variant:"h6",children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"}),u(Z4,{}),u(q4,{openDialog:g,openConfirm:S}),u(ue,{}),u(Y,{open:n,onCloseDialog:v,children:u(Y4,{onCancel:v,mode:r})}),i(Y,{open:t,onCloseDialog:C,children:[u(K,{children:u(d,{children:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F"})}),u(X,{children:p}),i(Z,{children:[u(f,{onClick:C,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),u(f,{onClick:I,children:"Ok"})]})]})]})},z="/",te=({routes:n})=>u(T,{children:u(qu,{children:u(p4,{children:u(Ju,{children:i(_,{path:`${z}`,element:u(o4,{}),children:[u(_,{path:`${z}`,element:u(v4,{})}),i(_,{path:`${z}tasks`,element:u(D4,{}),children:[u(_,{path:`${z}tasks`,element:u(L4,{})}),u(_,{path:`${z}tasks:id`,element:u(K4,{})})]}),i(_,{path:`${z}works`,element:u(k4,{}),children:[u(_,{path:`${z}works`,element:u(M4,{})}),u(_,{path:"/works/current-work",element:u(G4,{})})]}),u(_,{path:`${z}settings`,element:u(ee,{})})]})})})})});const ru=Qu(`ws://${location.hostname}`);ru.on("connect",()=>{console.log("socket ",ru.connected)});ru.on("workStatusUpdate",n=>{k.fetch(),k.fetchCurrentWork()});ru.on("serverTime",n=>{w.setServerTime(+n)});const ne=Yu({palette:{primary:{main:"#1976d2"},bgGray:{main:"#f9f9f9"}}},u4);e4.render(u(t4.StrictMode,{children:u(n4,{theme:ne,children:u(s4,{dateAdapter:r4,locale:du,children:u(te,{})})})}),document.getElementById("root"));
