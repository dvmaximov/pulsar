var be=Object.defineProperty,we=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var X=(s,t,n)=>t in s?be(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,T=(s,t)=>{for(var n in t||(t={}))ke.call(t,n)&&X(s,n,t[n]);if(ue)for(var n of ue(t))De.call(t,n)&&X(s,n,t[n]);return s},k=(s,t)=>we(s,Se(t));var w=(s,t,n)=>(X(s,typeof t!="symbol"?t+"":t,n),n);import{s as Ae,j as e,O as q,d as Ee,a as We,b as Re,c as Be,u as N,L as O,e as ae,A as Le,C as J,f as i,T as Oe,g as p,B as h,h as I,I as ie,i as Ie,k as Fe,D as Me,l as Ue,r,m as Q,o as D,n as Y,F as E,p as re,M as oe,q as j,t as G,v as K,S as le,w as F,x as z,y as g,z as ce,E as de,G as $e,H as He,J as _e,R as Pe,K as B,N as Ne,P as je}from"./vendor.171e8775.js";const Ge=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}};Ge();const Ke=Ae("main")({flexGrow:1,margin:10}),ze=()=>e(Ke,{children:e(q,{})});var pe=[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",path:"/",icon:e(Ee,{color:"primary"})},{label:"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",path:"/tasks",icon:e(We,{color:"primary"})},{label:"\u0417\u0430\u0434\u0430\u0447\u0438",path:"/works",icon:e(Re,{color:"primary"})},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",path:"/settings",icon:e(Be,{color:"primary"})}];const he="Pulsar",Ve=({toggleOpen:s})=>{const t=N(),n=pe.map(o=>e(O,{button:!0,onClick:()=>t(o.path,{replace:!0}),children:e(ae,{primary:o.label})},o.label));return e(Le,{position:"fixed",children:e(J,{maxWidth:"xl",children:i(Oe,{disableGutters:!0,children:[e(p,{variant:"h6",noWrap:!0,component:"h1",sx:M.logoSm,children:he}),e(h,{sx:M.menu,children:e(I,{component:"nav",sx:M.nav,children:n})}),e(h,{sx:M.icon,children:e(ie,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:s,sx:M.iconButton,children:e(Ie,{})})}),e(p,{variant:"h6",noWrap:!0,component:"h1",sx:M.logoXs,children:he})]})})})},M={logoSm:{mr:2,display:{xs:"none",sm:"flex"}},logoXs:{flexGrow:1,justifyContent:"flex-end",display:{xs:"flex",sm:"none"}},menu:{flexGrow:1,justifyContent:"flex-end",display:{xs:"none",sm:"flex"}},nav:{display:"flex",flexDirection:"row"},iconButton:{padding:"20px"},icon:{display:{xs:"flex",sm:"none"}}},Xe=({open:s,toggleOpen:t})=>{const n=N(),o=u=>{n(u,{replace:!0}),t()},a=pe.map(u=>i(O,{button:!0,onClick:()=>o(u.path),children:[e(Fe,{children:u.icon}),e(ae,{primary:u.label})]},u.label));return i(Me,{sx:me.drawer,open:s,onClose:t,children:[i(h,{sx:{display:{xs:"flex",sm:"none"}},children:[e(p,{children:"Pulsar"}),e(ie,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:t,sx:me.closeButton,children:e(Ue,{})})]}),e(I,{component:"nav",children:a})]})},me={drawer:{width:300,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box",top:"auto",padding:"10px 10px"}},closeButton:{color:"text.secondary"}},qe=s=>{const[t,n]=r.exports.useState(!!s);return[t,()=>{n(()=>!t)}]},Je=({children:s})=>{const[t,n]=qe(!1);return i(J,{maxWidth:"100vw",disableGutters:!0,sx:xe.container,children:[e(Ve,{toggleOpen:n}),i(J,{sx:xe.content,disableGutters:!0,children:[e(Xe,{open:t,toggleOpen:n}),s]})]})},xe={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{display:"flex",flexGrow:1,mt:8}},H={actionTypes:[{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430",value1:{label:"\u0430\u0437\u0438\u043C\u0443\u0442 (\u0433\u0440\u0430\u0434)",max:350,min:0,step:.1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:2,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430",value1:{label:"\u043D\u0430\u043A\u043B\u043E\u043D (\u0433\u0440\u0430\u0434)",max:10,min:0,step:1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435",value1:{label:"\u0432\u0440\u0435\u043C\u044F (\u0441\u0435\u043A)",max:1e4,min:0,step:1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434",value1:{label:"\u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E",max:1e3,min:1,step:1},value2:{label:"\u0432\u0440\u0435\u043C\u044F (\u0441\u0435\u043A)",max:1e4,min:0,step:.1},value3:{label:"\u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B (\u0441\u0435\u043A)",max:1e3,min:0,step:.1}}],workTypes:[{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"}],statusTypes:[{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},{id:2,name:"\u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435"},{id:3,name:"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E"},{id:4,name:"\u043F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043E"}],WORK:{WORK_PROGRAMM:1},STATUS:{STATUS_WAIT:1,STATUS_RUN:2,STATUS_DONE:3,STATUS_EXPIRED:4}};class Qe{constructor(){w(this,"data",{actionTypes:H.actionTypes,workTypes:H.workTypes,statusTypes:H.statusTypes,WORK:H.WORK,STATUS:H.STATUS})}async fetch(){return this.data}}var Ye=new Qe;const Ze=Ye;class et{constructor(){w(this,"actionTypes",[]);w(this,"workTypes",[]);w(this,"statusTypes",[]);w(this,"WORK",{});w(this,"STATUS",{});Q(this),this.fetch()}fill(t){this.actionTypes=t.actionTypes,this.workTypes=t.workTypes,this.statusTypes=t.statusTypes,this.WORK=t.WORK,this.STATUS=t.STATUS}async fetch(){const t=await Ze.fetch();this.fill(t)}}const C=new et,fe=[{id:1,name:"\u041F\u0435\u0440\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:15.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:1.3,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:1,value2:1.3,value3:2.5}]},{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]}];let ve=fe.length+1;class tt{constructor(){w(this,"data",fe)}async fetch(){return this.data}async fetchById(t){return this.data.find(n=>n.id===+t)}async create(t){ve++;const n=T({id:ve},t);return this.data.push(n),n}async remove(t){return this.data=this.data.filter(n=>n.id!==t),{removed:1,error:""}}async update(t){const n=this.data.findIndex(o=>o.id===t.id);return this.data[n]=T({},t),t}}var nt=new tt;const _=nt;class st{constructor(){w(this,"taskList",[]);Q(this)}fill(t){this.taskList=t}async remove(t){const n=await _.remove(t.id);if(n.removed===1){const o=this.taskList.filter(a=>a.id!==t.id);this.fill(o)}return n.removed}async create(t){const n=await _.create(t);this.fill([...this.taskList,n])}async update(t){await _.update(t);let n=this.taskList.findIndex(o=>o.id===t.id);this.taskList[n]=T({},t)}async fetch(){this.fill(await _.fetch())}async fetchById(t){return await _.fetchById(t)}}const W=new st,ye=[{id:1,type:{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"},status:{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},item:{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]},startTime:1645191e6,details:[]},{id:2,type:{id:1,name:"\u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"},status:{id:1,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},item:{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]},startTime:16457166e5,details:[]}];let Te=ye.length+1;class ut{constructor(){w(this,"works",ye)}async fetch(){return this.works}async create(t){Te++;const n=T({id:Te},t);return this.works.push(n),n}async remove(t){return this.works=this.works.filter(n=>n.id!==t),{removed:1,error:""}}}var at=new ut;const Z=at;class it{constructor(){w(this,"workList",[]);Q(this)}fill(t){this.workList=t}async fetch(){const t=await Z.fetch();this.fill(t)}async create(t){const n=await Z.create(t);this.fill([...this.workList,n])}async remove(t){const n=await Z.remove(t.id);if(n.removed===1){const o=this.workList.filter(a=>a.id!==t.id);this.fill(o)}return n.removed}}const L=new it,rt=()=>{r.exports.useEffect(()=>{L.fetch()},[]);const s=L.workList.filter(t=>t.type.id===C.STATUS.STATUS_WAIT).map(t=>i(O,{children:[t.item.name," ---\xA0",Y(new Date(t.startTime),"dd-MM-yyyy - HH:mm")]},t.id));return i(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:[e(p,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0437\u0430\u0434\u0430\u043D\u0438\u044F\u0445"}),e(p,{variant:"span",children:"\u0417\u0430\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435"}),e(I,{children:s})]})};var ot=D(rt);const lt=()=>e(h,{sx:{borderWidth:"1px",borderStyle:"solid",borderColor:"black",borderRadius:"5px",minHeight:"98%",p:.5,m:.5},children:e(p,{children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E\u0431 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0435"})});var ct=D(lt);const dt=()=>e(E,{children:i(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[e(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:e(ot,{})}),e(h,{sx:{padding:1,width:{xs:"100%",sm:"45%"},minHeight:"95%"},children:e(ct,{})})]})}),pt=()=>e(E,{children:e(q,{})}),ht=()=>e(E,{children:e(q,{})}),ee=s=>{const{open:t,onCloseDialog:n,children:o}=s;return e(re,{open:t,onClose:n,sx:{"& .MuiPaper-root":{width:{xs:"98%",sm:"50%"}}},children:o})},mt=({task:s,onSubmit:t,onCancel:n})=>{const o=r.exports.useMemo(()=>C.workTypes.find(d=>d.id===C.WORK.WORK_PROGRAMM),[]),a=r.exports.useMemo(()=>C.statusTypes.find(d=>d.id===C.STATUS.STATUS_RUN),[]),u=r.exports.useMemo(()=>({type:o,status:a,item:s,startTime:null,details:[]}),[]),[l,c]=r.exports.useState(u),[x,f]=r.exports.useState(a),[v,S]=r.exports.useState(Y(new Date,"yyyy-MM-dd'T'HH:mm")),A=d=>{const R=ce(de(d.target.value));S(d.target.value),c(k(T({},l),{startTime:R}))},b=d=>{const R=d.target.value;let P=null;f(R),R.id===C.STATUS.STATUS_WAIT&&(P=ce(de(v))),c(k(T({},l),{status:R,startTime:P}))},m=r.exports.useMemo(()=>C.statusTypes.map(d=>(d.id===C.STATUS.STATUS_RUN||d.id===C.STATUS.STATUS_WAIT)&&e(oe,{value:d,children:d.name},d.id)),[]);return i(E,{children:[e(j,{children:e(p,{children:"\u0417\u0430\u0434\u0430\u043D\u0438\u0435"})}),e(G,{children:i(h,{sx:{display:"flex",flexDirection:"column"},children:[e(K,{fullWidth:!0,sx:xt.gutters,children:e(le,{autoFocus:!0,value:x,onChange:b,children:m})}),x.id===C.STATUS.STATUS_WAIT&&e(K,{children:e(F,{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",type:"datetime-local",value:v,onChange:A,InputLabelProps:{shrink:!0}})})]})}),i(z,{children:[e(g,{onClick:n,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:()=>t(l),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},xt={gutters:{my:1}};var ft=D(mt);const vt=({task:s,onSelect:t,onRemove:n})=>{const[o,a]=r.exports.useState(!1),u=()=>{a(!0)},l=()=>{a(!1)},c=x=>{L.create(x),a(!1)};return i(E,{children:[i(O,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[i(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>t(s.id),children:[e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:s.name}),e(p,{variant:"p",component:"span",sx:{padding:1,fontSize:"caption.fontSize"},children:s.description})]}),i(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:[e(g,{variant:"outlined",size:"small",sx:{mr:{xs:0,sm:.5},mb:{xs:.5,sm:0}},onClick:u,children:"\u0437\u0430\u043F\u0443\u0441\u043A"}),e(g,{variant:"outlined",size:"small",onClick:()=>n(s),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})]})]}),e(ee,{open:o,onCloseDialog:l,children:e(ft,{onCancel:l,onSubmit:c,task:s})})]})};var yt=D(vt);const te=({open:s,children:t,onOk:n,onCancel:o})=>e(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:i(re,{open:s,onClose:o,children:[e(j,{}),e(G,{children:t}),i(z,{children:[e(g,{onClick:o,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:n,children:"Ok"})]})]})}),Tt=s=>{const[t,n]=r.exports.useState(!1),[o,a]=r.exports.useState("");return[t,o,l=>{n(l),a(l?s:"")}]},gt=({open:s,onAddTask:t,onCloseDialog:n})=>{const[o,a,u]=Tt("\u0418\u043C\u044F \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C."),[l,c]=r.exports.useState(""),[x,f]=r.exports.useState(""),v=b=>{f(b.target.value)},S=b=>{const m=b.target.value;u(!m),c(b.target.value)},A=()=>{if(!l){u(!0);return}t({name:l,description:x})};return r.exports.useEffect(()=>{s&&(c(""),u(!1),f(""))},[s]),i(E,{children:[e(j,{children:e(p,{children:"\u041D\u043E\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"})}),e(G,{children:i(h,{sx:{display:"flex",flexDirection:"column"},children:[e(F,{autoFocus:!0,error:o,label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",value:l,helperText:a,variant:"filled",onChange:S,sx:{mb:1}}),e(F,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",value:x,variant:"filled",multiline:!0,maxRows:4,onChange:v})]})}),i(z,{children:[e(g,{onClick:n,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:A,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]})},Ct=()=>{const s=N(),[t,n]=r.exports.useState(!1),[o,a]=r.exports.useState(!1),[u,l]=r.exports.useState(null),c=r.exports.useCallback(d=>{s(`/tasks/${d}`)},[]);r.exports.useEffect(()=>W.fetch(),[]);const x=r.exports.useCallback(()=>{n(!1)},[]),f=r.exports.useCallback(()=>{n(!0)},[]),v=d=>{l(d),a(!0)},S=()=>{u&&W.remove(u).then(()=>{l(null)}),a(!1)},A=()=>{l(null),a(!1)},b=r.exports.useCallback(d=>{W.create(k(T({},d),{actions:[]})),x()},[]),m=r.exports.useMemo(()=>W.taskList.map(d=>e(yt,{task:d,onSelect:c,onRemove:v},d.id)),[W.taskList]);return i(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[i(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(p,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C"}),e(g,{variant:"contained",color:"primary",onClick:f,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(I,{children:m}),e(ee,{open:t,onCloseDialog:x,children:e(gt,{open:t,onAddTask:b,onCloseDialog:x})}),i(te,{open:o,onOk:S,onCancel:A,children:[e(p,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0443?"}),e(p,{align:"center",sx:{fontWeight:"bold"},children:u==null?void 0:u.name})]})]})};var bt=D(Ct);const wt=({work:s,onSelect:t,onRemove:n})=>i(O,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[i(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},children:[e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:s.status.name}),e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:s.item.name}),s.startTime&&e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"20%"},padding:1},children:Y(new Date(s.startTime),"dd-MM-yyyy - HH:mm")})]}),e(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:e(g,{variant:"outlined",size:"small",onClick:()=>n(s),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var St=D(wt);const kt=()=>{var x,f;N();const[s,t]=r.exports.useState(!1),[n,o]=r.exports.useState(null);r.exports.useEffect(()=>L.fetch(),[]);const a=v=>{o(v),t(!0)},u=()=>{n&&L.remove(n).then(()=>{o(null)}),t(!1)},l=()=>{o(null),t(!1)},c=r.exports.useMemo(()=>L.workList.map(v=>e(St,{work:v,onRemove:a},v.id)),[L.workList]);return i(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[e(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:e(p,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u0434\u0430\u0447"})}),e(I,{children:c}),i(te,{open:s,onOk:u,onCancel:l,children:[e(p,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443?"}),i(p,{align:"center",sx:{fontWeight:"bold"},children:[(x=n==null?void 0:n.status)==null?void 0:x.name," ",(f=n==null?void 0:n.item)==null?void 0:f.name]})]})]})};var Dt=D(kt);const At=({action:s,onRemove:t,onEdit:n})=>i(O,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[i(h,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",flexWrap:"wrap",cursor:"pointer","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>n(s),children:[e(p,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:s.type.name}),i(p,{variant:"p",component:"span",sx:{padding:1},children:[s.type.id===1&&i(p,{children:["\u0430\u0437\u0438\u043C\u0443\u0442 ",e("span",{children:s.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),s.type.id===2&&i(p,{children:["\u043D\u0430\u043A\u043B\u043E\u043D ",e("span",{children:s.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),s.type.id===3&&i(p,{children:["\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 ",e("span",{children:s.value1})," \u0441\u0435\u043A"]}),s.type.id===4&&i(p,{children:["\u0440\u0430\u0437\u0440\u044F\u0434 \u043A\u043E\u043B-\u0432\u043E ",e("span",{children:s.value1})," \u0432\u0440\u0435\u043C\u044F\xA0",e("span",{children:s.value2})," \u0441\u0435\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\xA0",e("span",{children:s.value3})," \u0441\u0435\u043A"]})]})]}),e(h,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:e(g,{variant:"outlined",size:"small",onClick:()=>t(s),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var Et=D(At);const Wt=({action:s,onSubmit:t,onCloseDialog:n})=>{const o=r.exports.useMemo(()=>({id:C.actionTypes[0].id,name:C.actionTypes[0].name}),[]),a=r.exports.useMemo(()=>({id:null,type:o,value1:0,value2:0,value3:0}),[]),[u,l]=r.exports.useState(s||a),[c,x]=r.exports.useState(()=>C.actionTypes.find(m=>m.id===u.type.id)),f=m=>{l(()=>k(T({},u),{value1:+m.target.value}))},v=m=>{l(()=>k(T({},u),{value2:+m.target.value}))},S=m=>{l(()=>k(T({},u),{value3:+m.target.value}))},A=m=>{const d=m.target.value;x(d),l(k(T({},u),{type:{id:d.id,name:d.name},value1:1,value2:0,value3:0}))},b=r.exports.useMemo(()=>C.actionTypes.map(m=>e(oe,{value:m,children:m.name},m.id)),[]);return i(E,{children:[e(j,{children:e(p,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})}),e(G,{children:i(h,{sx:{display:"flex",flexDirection:"column"},children:[e(K,{fullWidth:!0,sx:V.gutters,children:e(le,{autoFocus:!0,value:c,onChange:A,children:b})}),e(K,{fullWidth:!0,children:e(F,{label:c.value1.label,value:u.value1,onChange:f,type:"number",inputProps:{max:c.value1.max,min:c.value1.min,step:c.value1.step},sx:V.gutters,InputLabelProps:{shrink:!0}})}),c.id===4&&e(F,{label:c.value2.label,value:u.value2,onChange:v,type:"number",inputProps:{max:c.value2.max,min:c.value2.min,step:c.value2.step},sx:V.gutters,InputLabelProps:{shrink:!0}}),c.id===4&&e(F,{label:c.value3.label,value:u.value3,onChange:S,type:"number",inputProps:{max:c.value3.max,min:c.value3.min,step:c.value3.step},sx:V.gutters,InputLabelProps:{shrink:!0}})]})}),i(z,{children:[e(g,{onClick:n,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(g,{onClick:()=>t(u),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},V={gutters:{my:1}};var Rt=D(Wt);const Bt=()=>{var ne;const s=$e(),[t,n]=r.exports.useState(!1),[o,a]=r.exports.useState(null),[u,l]=r.exports.useState({}),[c,x]=r.exports.useState(!1),[f,v]=r.exports.useState(null);r.exports.useEffect(()=>{W.fetchById(s.id).then(y=>l(y))},[]);const S=r.exports.useCallback(()=>{n(!1)},[]),A=r.exports.useCallback(y=>{a(y),n(!0)},[]),b=r.exports.useCallback(()=>{a(null),n(!0)},[]),m=y=>{v(y),x(!0)},d=()=>{if(f){const y=u.actions.filter($=>f.id!==$.id),U=k(T({},u),{actions:y});l(U),W.update(U).then(()=>{v(null)})}x(!1)},R=()=>{v(null),x(!1)},P=y=>{y.id||(y.id=He());const U=u.actions.findIndex(Ce=>Ce.id===y.id),$=[...u.actions];U===-1?$.push(y):$[U]=T({},y);const se=k(T({},u),{actions:[...$]});l(se),n(!1),W.update(se)},ge=Array.isArray(u.actions)?u.actions.map(y=>e(Et,{action:y,onRemove:m,onEdit:A},y.id)):null;return i(h,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[i(h,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(p,{variant:"h5",children:"\u0421\u043E\u0441\u0442\u0430\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"}),e(g,{variant:"contained",color:"primary",onClick:b,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(I,{children:ge}),e(ee,{open:t,onCloseDialog:S,children:e(Rt,{open:t,onCloseDialog:S,onSubmit:P,action:o})}),i(te,{open:c,onOk:d,onCancel:R,children:[e(p,{sx:{mb:2},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?"}),e(p,{align:"center",sx:{fontWeight:"bold"},children:(ne=f==null?void 0:f.type)==null?void 0:ne.name})]})]})};var Lt=D(Bt);const Ot=({routes:s})=>e(E,{children:e(_e,{children:e(Je,{children:e(Pe,{children:i(B,{path:"/",element:e(ze,{}),children:[e(B,{path:"/",element:e(dt,{})}),i(B,{path:"/tasks",element:e(pt,{}),children:[e(B,{path:"/tasks",element:e(bt,{})}),e(B,{path:"/tasks/:id",element:e(Lt,{})})]}),e(B,{path:"/works",element:e(ht,{}),children:e(B,{path:"/works",element:e(Dt,{})})})]})})})})});Ne.render(e(je.StrictMode,{children:e(Ot,{})}),document.getElementById("root"));
