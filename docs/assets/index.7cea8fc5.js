var te=Object.defineProperty,ae=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var P=(n,t,a)=>t in n?te(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,f=(n,t)=>{for(var a in t||(t={}))ue.call(t,a)&&P(n,a,t[a]);if(j)for(var a of j(t))se.call(t,a)&&P(n,a,t[a]);return n},b=(n,t)=>ae(n,ne(t));var w=(n,t,a)=>(P(n,typeof t!="symbol"?t+"":t,a),a);import{s as re,j as e,O as N,d as ie,a as le,b as oe,u as R,L as F,c as z,A as ce,C as W,e as r,T as de,f as m,B as x,g as I,I as H,h as pe,i as he,D as me,k as xe,r as l,F as A,l as y,m as fe,n as _,o as V,p as S,q,t as X,v as M,M as ve,w as K,S as ye,x as ge,y as be,z as Ce,R as we,E as B,G as ke,H as Te}from"./vendor.f8edaf97.js";const De=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=a(s);fetch(s.href,u)}};De();const Ee=re("main")({flexGrow:1,margin:10}),Ae=()=>e(Ee,{children:e(N,{})});var J=[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",path:"/",icon:e(ie,{color:"primary"})},{label:"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",path:"/tasks",icon:e(le,{color:"primary"})},{label:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",path:"/settings",icon:e(oe,{color:"primary"})}];const Q="Pulsar",Se=({toggleOpen:n})=>{const t=R(),a=J.map(i=>e(F,{button:!0,onClick:()=>t(i.path,{replace:!0}),children:e(z,{primary:i.label})},i.label));return e(ce,{position:"static",children:e(W,{maxWidth:"xl",children:r(de,{disableGutters:!0,children:[e(m,{variant:"h6",noWrap:!0,component:"h1",sx:k.logoSm,children:Q}),e(x,{sx:k.menu,children:e(I,{component:"nav",sx:k.nav,children:a})}),e(x,{sx:k.icon,children:e(H,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:n,sx:k.iconButton,children:e(pe,{})})}),e(m,{variant:"h6",noWrap:!0,component:"h1",sx:k.logoXs,children:Q})]})})})},k={logoSm:{mr:2,display:{xs:"none",sm:"flex"}},logoXs:{flexGrow:1,justifyContent:"flex-end",display:{xs:"flex",sm:"none"}},menu:{flexGrow:1,justifyContent:"flex-end",display:{xs:"none",sm:"flex"}},nav:{display:"flex",flexDirection:"row"},iconButton:{padding:"20px"},icon:{display:{xs:"flex",sm:"none"}}},Be=({open:n,toggleOpen:t})=>{const a=R(),i=u=>{a(u,{replace:!0}),t()},s=J.map(u=>r(F,{button:!0,onClick:()=>i(u.path),children:[e(he,{children:u.icon}),e(z,{primary:u.label})]},u.label));return r(me,{sx:U.drawer,open:n,onClose:t,children:[r(x,{sx:{display:{xs:"flex",sm:"none"}},children:[e(m,{children:"Pulsar"}),e(H,{size:"large","aria-label":"open menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:t,sx:U.closeButton,children:e(xe,{})})]}),e(I,{component:"nav",children:s})]})},U={drawer:{width:300,"& .MuiDrawer-paper":{width:300,boxSizing:"border-box",top:"auto",padding:"10px 10px"}},closeButton:{color:"text.secondary"}},Le=n=>{const[t,a]=l.exports.useState(!!n);return[t,()=>{a(()=>!t)}]},Fe=({children:n})=>{const[t,a]=Le(!1);return r(W,{maxWidth:"100vw",disableGutters:!0,sx:Y.container,children:[e(Se,{toggleOpen:a}),r(W,{sx:Y.content,disableGutters:!0,children:[e(Be,{open:t,toggleOpen:a}),n]})]})},Y={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{display:"flex",flexGrow:1}},Ie=()=>e(A,{children:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0435"}),Me=()=>e(A,{children:e(N,{})}),$e=({task:n,onSelect:t,onRemove:a})=>r(F,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(x,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",cursor:"pointer",flexWrap:"wrap","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>t(n.id),children:[e(m,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.name}),e(m,{variant:"p",component:"span",sx:{padding:1,fontSize:"caption.fontSize"},children:n.description})]}),r(x,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:[e(y,{variant:"outlined",size:"small",sx:{mr:{xs:0,sm:.5},mb:{xs:.5,sm:0}},children:"\u0437\u0430\u043F\u0443\u0441\u043A"}),e(y,{variant:"outlined",size:"small",onClick:()=>a(n.id),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})]})]}),Z=n=>{const{open:t,onCloseDialog:a,children:i}=n;return e(fe,{open:t,onClose:a,sx:{"& .MuiPaper-root":{width:{xs:"95%",sm:"50%"}}},children:i})},Oe=n=>{const[t,a]=l.exports.useState(!1),[i,s]=l.exports.useState("");return[t,i,c=>{a(c),s(c?n:"")}]},Pe=({open:n,onAddTask:t,onCloseDialog:a})=>{const[i,s,u]=Oe("\u0418\u043C\u044F \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C."),[c,o]=l.exports.useState(""),[g,h]=l.exports.useState(""),T=d=>{h(d.target.value)},D=d=>{const p=d.target.value;u(!p),o(d.target.value)},E=()=>{if(!c){u(!0);return}t({name:c,description:g})};return l.exports.useEffect(()=>{n&&(o(""),u(!1),h(""))},[n]),r(A,{children:[e(_,{children:e(m,{children:"\u041D\u043E\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430"})}),e(V,{children:r(x,{sx:{display:"flex",flexDirection:"column"},children:[e(S,{autoFocus:!0,error:i,label:"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435",value:c,helperText:s,variant:"filled",onChange:D,sx:{mb:1}}),e(S,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",value:g,variant:"filled",multiline:!0,maxRows:4,onChange:T})]})}),r(q,{children:[e(y,{onClick:a,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(y,{onClick:E,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]})]})};class Re{constructor(){w(this,"data",[{id:1,name:"\u041F\u0435\u0440\u0432\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:15.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:1.3,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:1,value2:1.3,value3:2.5}]},{id:2,name:"\u0412\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430",description:"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u0442\u043E\u0440\u043E\u0439 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B",actions:[{id:1,type:{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430"},value1:120.9,value2:0,value3:0},{id:2,type:{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"},value1:200,value2:0,value3:0},{id:3,type:{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434"},value1:3,value2:2.5,value3:5}]}]);w(this,"idx",this.data.length+1)}async fetch(){return this.data}async fetchById(t){return this.data.find(a=>a.id===+t)}async create(t){this.idx++;const a=f({id:this.idx},t);return this.data.push(a),a}async remove(t){return this.data=this.data.filter(a=>a.id!==t),{removed:1,error:""}}async update(t){const a=this.data.findIndex(i=>i.id===t.id);return this.data[a]=f({},t),t}}var We=new Re;const L=We;class Ge{constructor(){w(this,"taskList",[]);X(this)}fill(t){this.taskList=t}async remove(t){const a=await L.remove(t);if(a.removed===1){const i=this.taskList.filter(s=>t!==s.id);this.fill(i)}return a.removed}async create(t){const a=await L.create(t);this.fill([...this.taskList,a])}async update(t){await L.update(t);let a=this.taskList.findIndex(i=>i.id===t.id);this.taskList[a]=f({},t)}async fetch(){this.fill(await L.fetch())}async fetchById(t){return await L.fetchById(t)}}const C=new Ge;class je{constructor(){w(this,"data",[{id:1,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0430\u0437\u0438\u043C\u0443\u0442\u0430",value1:{label:"\u0430\u0437\u0438\u043C\u0443\u0442 (\u0433\u0440\u0430\u0434)",max:350,min:0,step:.1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:2,name:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043D\u0430\u043A\u043B\u043E\u043D\u0430",value1:{label:"\u043D\u0430\u043A\u043B\u043E\u043D (\u0433\u0440\u0430\u0434)",max:10,min:0,step:1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:3,name:"\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435",value1:{label:"\u0432\u0440\u0435\u043C\u044F (\u0441\u0435\u043A)",max:1e4,min:0,step:1},value2:{label:"",max:0,min:0,step:1},value3:{label:"",max:0,min:0,step:1}},{id:4,name:"\u0440\u0430\u0437\u0440\u044F\u0434",value1:{label:"\u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E",max:1e3,min:1,step:1},value2:{label:"\u0432\u0440\u0435\u043C\u044F (\u0441\u0435\u043A)",max:1e4,min:0,step:.1},value3:{label:"\u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B (\u0441\u0435\u043A)",max:1e3,min:0,step:.1}}])}async fetch(){return this.data}}var Ne=new je;const ze=Ne;class He{constructor(){w(this,"actionTypes",[]);X(this),this.fetch()}fill(t){this.actionTypes=t}async fetch(){this.fill(await ze.fetch())}}const $=new He,_e=()=>{const n=R(),[t,a]=l.exports.useState(!1),i=l.exports.useCallback(h=>{n(`/tasks/${h}`)},[]);l.exports.useEffect(()=>C.fetch(),[]);const s=h=>{C.remove(h)},u=l.exports.useCallback(()=>{a(!1)},[]),c=l.exports.useCallback(()=>{a(!0)},[]),o=l.exports.useCallback(h=>{C.create(b(f({},h),{actions:[]})),u()},[]),g=l.exports.useMemo(()=>C.taskList.map(h=>e($e,{task:h,onSelect:i,onRemove:s},h.id)),[C.taskList]);return r(x,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(x,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(m,{variant:"h5",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C"}),e(y,{variant:"contained",color:"primary",onClick:c,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(I,{children:g}),e(Z,{open:t,onCloseDialog:u,children:e(Pe,{open:t,onAddTask:o,onCloseDialog:u})})]})};var Ve=M(_e);const qe=({action:n,onRemove:t,onEdit:a})=>r(F,{sx:{color:"text.primary",mb:.5,p:.2,width:"auto"},children:[r(x,{sx:{display:"flex",bgcolor:"#ffffff",width:"80%",border:"1px solid #001e3c",borderRadius:"2px",flexWrap:"wrap",cursor:"pointer","&:hover":{bgcolor:"#f1f1f1",color:"text.secondary"}},onClick:()=>a(n),children:[e(m,{variant:"p",component:"span",sx:{width:{xs:"100%",sm:"40%"},padding:1},children:n.type.name}),r(m,{variant:"p",component:"span",sx:{padding:1},children:[n.type.id===1&&r(m,{children:["\u0430\u0437\u0438\u043C\u0443\u0442 ",e("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===2&&r(m,{children:["\u043D\u0430\u043A\u043B\u043E\u043D ",e("span",{children:n.value1})," \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432"]}),n.type.id===3&&r(m,{children:["\u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 ",e("span",{children:n.value1})," \u0441\u0435\u043A"]}),n.type.id===4&&r(m,{children:["\u0440\u0430\u0437\u0440\u044F\u0434 \u043A\u043E\u043B-\u0432\u043E ",e("span",{children:n.value1})," \u0432\u0440\u0435\u043C\u044F\xA0",e("span",{children:n.value2})," \u0441\u0435\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\xA0",e("span",{children:n.value3})," \u0441\u0435\u043A"]})]})]}),e(x,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},flexGrow:1,justifyContent:"center",ml:1},children:e(y,{variant:"outlined",size:"small",onClick:()=>t(n.id),children:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"})})]});var Xe=M(qe);const Ke=({action:n,onSubmit:t,onCloseDialog:a})=>{const i=l.exports.useMemo(()=>({id:$.actionTypes[0].id,name:$.actionTypes[0].name}),[]),s=l.exports.useMemo(()=>({id:null,type:i,value1:0,value2:0,value3:0}),[]),[u,c]=l.exports.useState(n||s),[o,g]=l.exports.useState(()=>$.actionTypes.find(p=>p.id===u.type.id)),h=p=>{c(()=>b(f({},u),{value1:+p.target.value}))},T=p=>{c(()=>b(f({},u),{value2:+p.target.value}))},D=p=>{c(()=>b(f({},u),{value3:+p.target.value}))},E=p=>{const v=p.target.value;g(v),c(b(f({},u),{type:{id:v.id,name:v.name},value1:1,value2:0,value3:0}))},d=l.exports.useMemo(()=>$.actionTypes.map(p=>e(ve,{value:p,children:p.name},p.id)),[]);return r(A,{children:[e(_,{children:e(m,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})}),e(V,{children:r(x,{sx:{display:"flex",flexDirection:"column"},children:[e(K,{fullWidth:!0,sx:O.gutters,children:e(ye,{autoFocus:!0,value:o,onChange:E,children:d})}),e(K,{fullWidth:!0,children:e(S,{label:o.value1.label,value:u.value1,onChange:h,type:"number",inputProps:{max:o.value1.max,min:o.value1.min,step:o.value1.step},sx:O.gutters,InputLabelProps:{shrink:!0}})}),o.id===4&&e(S,{label:o.value2.label,value:u.value2,onChange:T,type:"number",inputProps:{max:o.value2.max,min:o.value2.min,step:o.value2.step},sx:O.gutters,InputLabelProps:{shrink:!0}}),o.id===4&&e(S,{label:o.value3.label,value:u.value3,onChange:D,type:"number",inputProps:{max:o.value3.max,min:o.value3.min,step:o.value3.step},sx:O.gutters,InputLabelProps:{shrink:!0}})]})}),r(q,{children:[e(y,{onClick:a,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e(y,{onClick:()=>t(u),children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"})]})]})},O={gutters:{my:1}};var Je=M(Ke);const Qe=()=>{const n=ge(),[t,a]=l.exports.useState(!1),[i,s]=l.exports.useState(null),[u,c]=l.exports.useState({});l.exports.useState(!1),l.exports.useEffect(()=>{C.fetchById(n.id).then(d=>c(d))},[]);const o=l.exports.useCallback(()=>{a(!1)},[]),g=l.exports.useCallback(d=>{s(d),a(!0)},[]),h=l.exports.useCallback(()=>{s(null),a(!0)},[]),T=d=>{const p=u.actions.filter(v=>v.id!==d);c(v=>b(f({},v),{actions:p})),C.update(u)},D=d=>{d.id||(d.id=be());const p=u.actions.findIndex(ee=>ee.id===d.id),v=[...u.actions];p===-1?v.push(d):v[p]=f({},d);const G=b(f({},u),{actions:[...v]});c(G),a(!1),C.update(G)},E=Array.isArray(u.actions)?u.actions.map(d=>e(Xe,{action:d,onRemove:T,onEdit:g},d.id)):null;return r(x,{sx:{bgcolor:"#f9f9f9",padding:1,minHeight:"98%"},children:[r(x,{sx:{display:"flex",justifyContent:"space-between",width:"80%",flexWrap:"wrap"},children:[e(m,{variant:"h5",children:"\u0421\u043E\u0441\u0442\u0430\u0432 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B"}),e(y,{variant:"contained",color:"primary",onClick:h,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"})]}),e(I,{children:E}),e(Z,{open:t,onCloseDialog:o,children:e(Je,{open:t,onCloseDialog:o,onSubmit:D,action:i})})]})};var Ue=M(Qe);const Ye=({routes:n})=>e(A,{children:e(Ce,{children:e(Fe,{children:e(we,{children:r(B,{path:"/",element:e(Ae,{}),children:[e(B,{path:"/",element:e(Ie,{})}),r(B,{path:"/tasks",element:e(Me,{}),children:[e(B,{path:"/tasks",element:e(Ve,{})}),e(B,{path:"/tasks/:id",element:e(Ue,{})})]})]})})})})});ke.render(e(Te.StrictMode,{children:e(Ye,{})}),document.getElementById("root"));
